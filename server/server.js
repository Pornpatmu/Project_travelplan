const express = require('express');
const sqlite3 = require('sqlite3').verbose();
const cors = require('cors');

const app = express();
const port = 3000;

app.use(cors());
app.use(express.json());

// --- à¹€à¸›à¸´à¸” database ---
const db = new sqlite3.Database('./mydatabase.db');

// --- à¸ªà¸£à¹‰à¸²à¸‡à¸•à¸²à¸£à¸²à¸‡à¸•à¹ˆà¸²à¸‡à¹† 
db.serialize(() => {
  // à¸•à¸²à¸£à¸²à¸‡à¹à¸œà¸™à¹€à¸—à¸µà¹ˆà¸¢à¸§
  db.run(`
    CREATE TABLE IF NOT EXISTS plans (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  name TEXT UNIQUE,  
  province TEXT,
  start_date TEXT,
  end_date TEXT,
  budget REAL,
  spending REAL,
  dayColors TEXT
)

  `);

  // à¸•à¸²à¸£à¸²à¸‡à¸ªà¸–à¸²à¸™à¸—à¸µà¹ˆà¹ƒà¸™à¹à¸œà¸™à¹à¸šà¸š minimal:
  // à¹€à¸›à¸¥à¸µà¹ˆà¸¢à¸™à¸ˆà¸²à¸à¸à¸²à¸£à¹€à¸à¹‡à¸šà¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¹€à¸•à¹‡à¸¡ (name, lat, lon) à¹€à¸›à¹‡à¸™à¹€à¸à¹‡à¸šà¹€à¸‰à¸žà¸²à¸° place_id
  db.run(`
    CREATE TABLE IF NOT EXISTS places (
      id INTEGER PRIMARY KEY AUTOINCREMENT,
      plan_id INTEGER,
      day_index INTEGER,
      place_id INTEGER,
      expense REAL,
      order_index INTEGER,
      category TEXT
    )
  `);

  db.run(`
    CREATE TABLE IF NOT EXISTS favorite_places (
      id INTEGER PRIMARY KEY AUTOINCREMENT,
      plan_id INTEGER,
      name TEXT,
      lat REAL,
      lon REAL,
      category TEXT
    )
  `);

  db.run(`
    CREATE TABLE IF NOT EXISTS other_expenses (
      id INTEGER PRIMARY KEY AUTOINCREMENT,
      plan_id INTEGER,
      desc TEXT,
      amount REAL,
      icon_code INTEGER
    )
  `);
});

db.run(`
  CREATE TABLE IF NOT EXISTS all_places (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    name TEXT,
    lat REAL,
    lon REAL,
    category TEXT,
    province TEXT,
    image TEXT,
    openingDays TEXT,
    phone TEXT,
    description TEXT,
    address TEXT,
    hours TEXT,
    mapUrl TEXT
  )
`);

// ---  à¹€à¸žà¸´à¹ˆà¸¡à¸‚à¹‰à¸­à¸¡à¸¹à¸¥ mockPlaces à¸¥à¸‡à¹ƒà¸™ all_places  ---
const mockPlaces = [
  {
    'name': 'Blue Lagoon',
    'lat': 16.66506,
    'lon': 101.83263,
    'category': 'nature',
    'province': 'à¸‚à¸­à¸™à¹à¸à¹ˆà¸™',
    'image': 'assets/images/BlueLagoon.jpg',
    'description': 'à¸ªà¸£à¸°à¸™à¹‰à¸³à¸ªà¸µà¸¡à¸£à¸à¸•à¸‚à¸™à¸²à¸”à¹ƒà¸«à¸à¹ˆà¸ˆà¸²à¸à¸à¸²à¸£à¸—à¸³à¹€à¸«à¸¡à¸·à¸­à¸‡à¸«à¸´à¸™à¹€à¸à¹ˆà¸²à¸—à¸µà¹ˆà¸¡à¸µà¸šà¸£à¸£à¸¢à¸²à¸à¸²à¸¨à¸˜à¸£à¸£à¸¡à¸Šà¸²à¸•à¸´à¹à¸¥à¸°à¹€à¸‡à¸µà¸¢à¸šà¸ªà¸‡à¸š',
    'address': 'à¸šà¹‰à¸²à¸™à¸ªà¸­à¸‡à¸„à¸­à¸™ à¸•à¸³à¸šà¸¥à¸™à¸²à¸à¸²à¸¢ à¸­à¸³à¹€à¸ à¸­à¸ à¸¹à¸œà¸²à¸¡à¹ˆà¸²à¸™ à¸ˆà¸±à¸‡à¸«à¸§à¸±à¸”à¸‚à¸­à¸™à¹à¸à¹ˆà¸™',
    'hours': '06:00 - 19:00 à¸™.',
    'phone': '-',
    'mapUrl': 'https://goo.gl/maps/yagD2DtF2C3VKyy88',
  },
  {
    'name': 'à¸™à¹‰à¸³à¸•à¸à¸•à¸²à¸”à¸Ÿà¹‰à¸²',
    'lat': 16.79155,
    'lon': 102.25934,
    'category': 'nature',
    'province': 'à¸‚à¸­à¸™à¹à¸à¹ˆà¸™',
    'image': 'assets/images/Namtok.jpg',
    'description': 'à¸™à¹‰à¸³à¸•à¸à¸—à¸µà¹ˆà¸ªà¸¹à¸‡à¸–à¸¶à¸‡ 15 à¹€à¸¡à¸•à¸£à¹ƒà¸™à¸­à¸¸à¸—à¸¢à¸²à¸™à¹à¸«à¹ˆà¸‡à¸Šà¸²à¸•à¸´à¸ à¸¹à¹€à¸§à¸µà¸¢à¸‡ à¸ˆà¸±à¸‡à¸«à¸§à¸±à¸”à¸‚à¸­à¸™à¹à¸à¹ˆà¸™',
    'address': 'à¸•à¸³à¸šà¸¥à¸ à¸¹à¹€à¸§à¸µà¸¢à¸‡ à¸­à¸³à¹€à¸ à¸­à¸ à¸¹à¹€à¸§à¸µà¸¢à¸‡ à¸ˆà¸±à¸‡à¸«à¸§à¸±à¸”à¸‚à¸­à¸™à¹à¸à¹ˆà¸™',
    'hours': '08:30 - 16:30 à¸™.',
    'phone': '0-4343-8333',
    'mapUrl': 'https://goo.gl/maps/DeVan5dGf1fnzV4BA',
  },
  {
    'name': 'à¸ˆà¸¸à¸”à¸Šà¸¡à¸—à¸´à¸§à¸—à¸±à¸¨à¸™à¹Œà¸«à¸´à¸™à¸Šà¹‰à¸²à¸‡à¸ªà¸µ à¸­à¸¸à¸—à¸¢à¸²à¸™à¹à¸«à¹ˆà¸‡à¸Šà¸²à¸•à¸´à¸™à¹‰à¸³à¸žà¸­à¸‡',
    'lat': 16.65329,
    'lon': 102.60846,
    'category': 'nature',
    'province': 'à¸‚à¸­à¸™à¹à¸à¹ˆà¸™',
    'image': 'assets/images/ScenicView.jpg',
    'description': 'à¸ˆà¸¸à¸”à¸Šà¸¡à¸§à¸´à¸§à¸—à¸µà¹ˆà¸ªà¸²à¸¡à¸²à¸£à¸–à¸¡à¸­à¸‡à¹€à¸«à¹‡à¸™à¸­à¹ˆà¸²à¸‡à¹€à¸à¹‡à¸šà¸™à¹‰à¸³à¹€à¸‚à¸·à¹ˆà¸­à¸™à¸­à¸¸à¸šà¸¥à¸£à¸±à¸•à¸™à¹Œà¹à¸¥à¸°à¸•à¸±à¸§à¹€à¸¡à¸·à¸­à¸‡à¸‚à¸­à¸™à¹à¸à¹ˆà¸™à¹à¸šà¸šà¸žà¸²à¹‚à¸™à¸£à¸²à¸¡à¸²',
    'address': 'à¸•à¸³à¸šà¸¥à¹‚à¸„à¸à¸‡à¸²à¸¡ à¸­à¸³à¹€à¸ à¸­à¸šà¹‰à¸²à¸™à¸à¸²à¸‡ à¸ˆà¸±à¸‡à¸«à¸§à¸±à¸”à¸‚à¸­à¸™à¹à¸à¹ˆà¸™',
    'hours': '08:00 - 16:30 à¸™.',
    'phone': '096 739 7920',
    'mapUrl': 'https://goo.gl/maps/QKXkY4Du4QrrYt3k9',
  },
  {
    'name': 'à¸šà¸¶à¸‡à¸—à¸¸à¹ˆà¸‡à¸ªà¸£à¹‰à¸²à¸‡',
    'lat': 16.45262,
    'lon': 102.85490,
    'category': 'nature',
    'province': 'à¸‚à¸­à¸™à¹à¸à¹ˆà¸™',
    'image': 'assets/images/BuengThungSang.jpg',
    'description': 'à¸šà¸¶à¸‡à¸—à¸¸à¹ˆà¸‡à¸ªà¸£à¹‰à¸²à¸‡à¹€à¸›à¹‡à¸™à¸ªà¸§à¸™à¸ªà¸²à¸˜à¸²à¸£à¸“à¸°à¸—à¸µà¹ˆà¹€à¸«à¸¡à¸²à¸°à¸ªà¸³à¸«à¸£à¸±à¸šà¸à¸²à¸£à¸­à¸­à¸à¸à¸³à¸¥à¸±à¸‡à¸à¸²à¸¢à¹à¸¥à¸°à¸žà¸±à¸à¸œà¹ˆà¸­à¸™à¸«à¸¢à¹ˆà¸­à¸™à¹ƒà¸ˆ',
    'address': 'à¸–à¸™à¸™à¸ˆà¸­à¸¡à¸žà¸¥ à¸•à¸³à¸šà¸¥à¹ƒà¸™à¹€à¸¡à¸·à¸­à¸‡ à¸­à¸³à¹€à¸ à¸­à¹€à¸¡à¸·à¸­à¸‡à¸‚à¸­à¸™à¹à¸à¹ˆà¸™ à¸ˆà¸±à¸‡à¸«à¸§à¸±à¸”à¸‚à¸­à¸™à¹à¸à¹ˆà¸™',
    'hours': 'à¸•à¸¥à¸­à¸”à¸—à¸±à¹‰à¸‡à¸§à¸±à¸™',
    'phone': '-',
    'mapUrl': 'https://maps.app.goo.gl/aSRpuKukiZuuA9kF7',
  },
  {
    'name': 'à¸šà¸²à¸‡à¹à¸ªà¸™2à¸‚à¸­à¸™à¹à¸à¹ˆà¸™',
    'lat': 16.73959,
    'lon': 102.62847,
    'category': 'nature',
    'province': 'à¸‚à¸­à¸™à¹à¸à¹ˆà¸™',
    'image': 'assets/images/BangSaen2.jpg',
    'description': 'à¸—à¸°à¹€à¸¥à¸™à¹‰à¸³à¸ˆà¸·à¸”à¹ƒà¸™à¸‚à¸­à¸™à¹à¸à¹ˆà¸™à¸—à¸µà¹ˆà¹€à¸›à¹‡à¸™à¹à¸«à¸¥à¹ˆà¸‡à¸žà¸±à¸à¸œà¹ˆà¸­à¸™à¸«à¸¢à¹ˆà¸­à¸™à¹ƒà¸ˆà¸‚à¸­à¸‡à¸Šà¸²à¸§à¸‚à¸­à¸™à¹à¸à¹ˆà¸™',
    'address': 'à¸•à¸³à¸šà¸¥à¹€à¸‚à¸·à¹ˆà¸­à¸™à¸­à¸¸à¸šà¸¥à¸£à¸±à¸•à¸™à¹Œ à¸­à¸³à¹€à¸ à¸­à¸­à¸¸à¸šà¸¥à¸£à¸±à¸•à¸™à¹Œ à¸ˆà¸±à¸‡à¸«à¸§à¸±à¸”à¸‚à¸­à¸™à¹à¸à¹ˆà¸™',
    'hours': '09:00 - 18:00 à¸™.',
    'phone': '-',
    'mapUrl': 'https://maps.app.goo.gl/m5eMAmhMviYke4DS7',
  },
  {
    'name': 'à¹€à¸‚à¸·à¹ˆà¸­à¸™à¸­à¸¸à¸šà¸¥à¸£à¸±à¸•à¸™à¹Œ',
    'lat': 16.77371,
    'lon': 102.61922,
    'category': 'nature',
    'province': 'à¸‚à¸­à¸™à¹à¸à¹ˆà¸™',
    'image': 'assets/images/UbolratanaDam.jpg',
    'description': 'à¹€à¸‚à¸·à¹ˆà¸­à¸™à¸‚à¸™à¸²à¸”à¹ƒà¸«à¸à¹ˆà¹ƒà¸™à¸ˆà¸±à¸‡à¸«à¸§à¸±à¸”à¸‚à¸­à¸™à¹à¸à¹ˆà¸™à¸—à¸µà¹ˆà¹€à¸«à¸¡à¸²à¸°à¸ªà¸³à¸«à¸£à¸±à¸šà¸à¸²à¸£à¸žà¸±à¸à¸œà¹ˆà¸­à¸™à¹à¸¥à¸°à¸Šà¸¡à¸žà¸£à¸°à¸­à¸²à¸—à¸´à¸•à¸¢à¹Œà¸•à¸',
    'address': 'à¸­à¸³à¹€à¸ à¸­à¸­à¸¸à¸šà¸¥à¸£à¸±à¸•à¸™à¹Œ à¸ˆà¸±à¸‡à¸«à¸§à¸±à¸”à¸‚à¸­à¸™à¹à¸à¹ˆà¸™',
    'hours': '08:00 â€“ 16:30 à¸™.',
    'phone': '-',
    'mapUrl': 'https://maps.app.goo.gl/i7s6KxXbdLHXh3iS8',
  },
  {
    'name': 'Little Box CafÃ©',
    'lat': 16.78427,
    'lon': 102.62954,
    'category': 'cafe',
    'province': 'à¸‚à¸­à¸™à¹à¸à¹ˆà¸™',
    'image': 'assets/images/LittleBoxCafe.jpg',
    'description': 'à¸„à¸²à¹€à¸Ÿà¹ˆà¸§à¸´à¸§à¸ªà¸§à¸¢à¸—à¸µà¹ˆà¸¡à¸µà¸¡à¸¸à¸¡à¸–à¹ˆà¸²à¸¢à¸£à¸¹à¸›à¹€à¸¢à¸­à¸°à¸¡à¸²à¸ à¹à¸¥à¸°à¸¡à¸µà¹€à¸¡à¸™à¸¹à¹€à¸„à¸£à¸·à¹ˆà¸­à¸‡à¸”à¸·à¹ˆà¸¡à¸£à¸²à¸„à¸²à¹„à¸¡à¹ˆà¹à¸žà¸‡à¹à¸–à¸¡à¸•à¸­à¸šà¹‚à¸ˆà¸—à¸¢à¹Œà¸ªà¸²à¸¢à¹€à¸‹à¸¥à¸Ÿà¸µà¹ˆà¹„à¸”à¹‰à¹€à¸›à¹‡à¸™à¸­à¸¢à¹ˆà¸²à¸‡à¸”à¸µ',
    'address': 'à¸•à¸³à¸šà¸¥à¸šà¹‰à¸²à¸™à¸”à¸‡ à¸­à¸³à¹€à¸ à¸­à¸­à¸¸à¸šà¸¥à¸£à¸±à¸•à¸™à¹Œ à¸ˆà¸±à¸‡à¸«à¸§à¸±à¸”à¸‚à¸­à¸™à¹à¸à¹ˆà¸™',
    'hours': '08:00 - 17:30 à¸™.',
    'phone': '088 744 7356',
    'mapUrl': 'https://maps.app.goo.gl/S1eDDSu2cpBacJfd8',
  },
  {
    'name': 'à¸«à¸¡à¸¹à¹ˆà¸šà¹‰à¸²à¸™à¸‡à¸²à¸™à¸„à¸£à¸²à¸Ÿà¸•à¹Œ',
    'lat': 16.47914,
    'lon': 102.80553,
    'category': 'cafe',
    'province': 'à¸‚à¸­à¸™à¹à¸à¹ˆà¸™',
    'image': 'assets/images/CraftVillageCafe.jpg',
    'description': 'à¸«à¸¡à¸¹à¹ˆà¸šà¹‰à¸²à¸™à¹€à¸¥à¹‡à¸ à¹† à¸—à¸µà¹ˆà¸‹à¹ˆà¸­à¸™à¸•à¸±à¸§à¸­à¸¢à¸¹à¹ˆà¸«à¸¥à¸±à¸‡à¸¡à¸«à¸²à¸§à¸´à¸—à¸¢à¸²à¸¥à¸±à¸¢à¸‚à¸­à¸™à¹à¸à¹ˆà¸™ à¸—à¸µà¹ˆà¸¡à¸µà¸—à¸±à¹‰à¸‡à¸„à¸²à¹€à¸Ÿà¹ˆ à¸£à¹‰à¸²à¸™à¸«à¸™à¸±à¸‡à¸ªà¸·à¸­ à¹à¸¥à¸°à¸£à¹‰à¸²à¸™à¸›à¸±à¹‰à¸™à¹€à¸‹à¸£à¸²à¸¡à¸´à¸',
    'address': 'à¸«à¸¥à¸±à¸‡à¸¡à¸«à¸²à¸¥à¸±à¸¢à¸‚à¸­à¸™à¹à¸à¹ˆà¸™ 674 à¸šà¹‰à¸²à¸™à¹‚à¸™à¸™à¸¡à¹ˆà¸§à¸‡ à¸¡.19 à¸•.à¸¨à¸´à¸¥à¸² à¸­.à¹€à¸¡à¸·à¸­à¸‡ à¸ˆ.à¸‚à¸­à¸™à¹à¸à¹ˆà¸™',
    'hours': '09:00 - 23:00 à¸™.',
    'phone': '085 083 7635',
    'mapUrl': 'https://goo.gl/maps/gJ6ZKMwioh6qGdSK8',
  },
  {
    'name': 'à¸à¸£à¸°à¸•à¹ˆà¸²à¸¢à¸‚à¸¹à¸”à¸¡à¸°à¸žà¸£à¹‰à¸²à¸§',
    'lat': 16.46514,
    'lon': 102.82504,
    'category': 'cafe',
    'province': 'à¸‚à¸­à¸™à¹à¸à¹ˆà¸™',
    'image': 'assets/images/RabbitCafe.jpg',
    'description': 'à¸„à¸²à¹€à¸Ÿà¹ˆà¸—à¸µà¹ˆà¹€à¸ªà¸´à¸£à¹Œà¸Ÿà¸‚à¸™à¸¡à¸«à¸§à¸²à¸™à¸«à¸¥à¸²à¸à¸«à¸¥à¸²à¸¢à¹€à¸¡à¸™à¸¹à¹ƒà¸™à¸£à¸¹à¸›à¹à¸šà¸šà¹ƒà¸«à¸¡à¹ˆà¸‚à¸­à¸‡à¸‚à¸™à¸¡à¹„à¸—à¸¢',
    'address': 'à¹‚à¸‹à¸™à¸à¸±à¸‡à¸ªà¸”à¸²à¸¥à¸¡à¸‚. à¸–.à¸à¸±à¸¥à¸›à¸žà¸¤à¸à¸©à¹Œ à¸‚à¹‰à¸²à¸‡à¹†à¸£à¹‰à¸²à¸™à¸ªà¸¢à¸²à¸¡à¸™à¸´à¸ªà¸´à¸• à¸ˆ.à¸‚à¸­à¸™à¹à¸à¹ˆà¸™',
    'hours': '13:00 - 21:30 à¸™.',
    'phone': '080 329 8883',
    'mapUrl': 'https://maps.app.goo.gl/EvAzF5GNVSsS4fxz8?g_st=ic',
  },
  {
    'name': 'à¸™à¸­à¸™à¸™à¸² à¸„à¸²à¹€à¸Ÿà¹ˆ Khon Kaen',
    'lat': 16.54368,
    'lon': 102.84756,
    'category': 'cafe',
    'province': 'à¸‚à¸­à¸™à¹à¸à¹ˆà¸™',
    'image': 'assets/images/NonnaCafe.jpg',
    'description': 'à¸„à¸²à¹€à¸Ÿà¹ˆà¸—à¸¸à¹ˆà¸‡à¸™à¸²à¹ƒà¸™à¸šà¸£à¸£à¸¢à¸²à¸à¸²à¸¨à¸—à¸µà¹ˆà¸”à¸µà¹à¸¥à¸°à¸¡à¸µà¸¡à¸¸à¸¡à¸–à¹ˆà¸²à¸¢à¸£à¸¹à¸›à¸ªà¸¸à¸”à¸›à¸±à¸‡ à¸žà¸£à¹‰à¸­à¸¡à¹€à¸¡à¸™à¸¹à¸­à¸²à¸«à¸²à¸£à¸—à¸µà¹ˆà¸«à¸¥à¸²à¸à¸«à¸¥à¸²à¸¢',
    'address': 'à¸¡.6 à¸šà¹‰à¸²à¸™à¹„à¸à¹ˆà¸™à¸² à¸•.à¸ªà¸³à¸£à¸²à¸ à¸­.à¹€à¸¡à¸·à¸­à¸‡ à¸ˆ.à¸‚à¸­à¸™à¹à¸à¹ˆà¸™',
    'hours': '09:00 - 22:00 à¸™.',
    'phone': '092-478-4789',
    'mapUrl': 'https://goo.gl/maps/nSXBJG7TME7jxa7g8',
  },
  {
    'name': 'Rak An Coffee',
    'lat': 16.43069,
    'lon': 102.82957,
    'category': 'cafe',
    'province': 'à¸‚à¸­à¸™à¹à¸à¹ˆà¸™',
    'image': 'assets/images/RakAnCoffee.jpg',
    'description': 'à¸„à¸²à¹€à¸Ÿà¹ˆà¹€à¸à¹ˆà¸²à¹à¸à¹ˆà¸—à¸µà¹ˆà¸™à¸³à¹€à¸ªà¸™à¸­à¹€à¸¡à¸™à¸¹à¸‚à¸™à¸¡à¸«à¸§à¸²à¸™à¹à¸¥à¸°à¸à¸²à¹à¸Ÿà¸—à¸µà¹ˆà¹ƒà¸Šà¹‰à¹€à¸¡à¸¥à¹‡à¸”à¸à¸²à¹à¸Ÿà¸«à¸¥à¸²à¸à¸«à¸¥à¸²à¸¢à¸žà¸±à¸™à¸˜à¸¸à¹Œ',
    'address': '8 à¸‹à¸­à¸¢à¸”à¸£à¸¸à¸“à¸ªà¸³à¸£à¸²à¸ à¹ƒà¸à¸¥à¹‰à¸¨à¸²à¸¥à¸«à¸¥à¸±à¸à¹€à¸¡à¸·à¸­à¸‡à¸‚à¸­à¸™à¹à¸à¹ˆà¸™ à¸—à¸²à¸‡à¹„à¸›à¸ªà¸–à¸²à¸™à¸µà¸£à¸–à¹„à¸Ÿ',
    'hours': '08:30 - 17:00 à¸™. (à¸ˆà¸±à¸™à¸—à¸£à¹Œ-à¸¨à¸¸à¸à¸£à¹Œ), 09:00 â€“ 18:00 à¸™. (à¹€à¸ªà¸²à¸£à¹Œ-à¸­à¸²à¸—à¸´à¸•à¸¢à¹Œ)',
    'phone': '095 661 0199',
    'mapUrl': 'https://maps.app.goo.gl/Dvkob6KPeJYtTJ6Y6',
  },
  {
    'name': 'Goodbeans Roastery',
    'lat': 16.45806,
    'lon': 102.82497,
    'category': 'cafe',
    'province': 'à¸‚à¸­à¸™à¹à¸à¹ˆà¸™',
    'image': 'assets/images/GoodbeansRoastery.jpg',
    'description': 'à¸„à¸²à¹€à¸Ÿà¹ˆà¸šà¸£à¸£à¸¢à¸²à¸à¸²à¸¨à¸ªà¸§à¸¢à¹à¸¥à¸°à¸£à¹ˆà¸¡à¸£à¸·à¹ˆà¸™ à¹ƒà¸Šà¹‰à¸à¸²à¸£à¸•à¸à¹à¸•à¹ˆà¸‡à¹à¸šà¸šà¸›à¸¹à¸™à¹€à¸›à¸¥à¸·à¸­à¸¢à¹à¸¥à¸°à¸‡à¸²à¸™à¹„à¸¡à¹‰à¸ªà¹„à¸•à¸¥à¹Œà¸¡à¸´à¸™à¸´à¸¡à¸­à¸¥à¸à¸µà¹ˆà¸›à¸¸à¹ˆà¸™',
    'address': 'à¸–à¸™à¸™ à¸•à¸°à¸§à¸±à¸™à¹ƒà¸«à¸¡à¹ˆ à¸­à¸³à¹€à¸ à¸­à¹€à¸¡à¸·à¸­à¸‡à¸‚à¸­à¸™à¹à¸à¹ˆà¸™ à¸ˆà¸±à¸‡à¸«à¸§à¸±à¸”à¸‚à¸­à¸™à¹à¸à¹ˆà¸™',
    'hours': '07:30 - 18:30 à¸™.',
    'phone': '082 449 1728',
    'mapUrl': 'https://maps.app.goo.gl/WQ5vPV75Ff31Ps1K9',
  },
  {
    'name': 'à¸šà¹‰à¸²à¸™à¹à¸™à¸šà¸™à¹‰à¸³ NABNAM SPACE',
    'lat': 16.44293,
    'lon': 102.90582,
    'category': 'cafe',
    'province': 'à¸‚à¸­à¸™à¹à¸à¹ˆà¸™',
    'image': 'assets/images/NABNAMSpace.jpg',
    'description': 'à¸„à¸²à¹€à¸Ÿà¹ˆà¸£à¸´à¸¡à¸™à¹‰à¸³à¸—à¸µà¹ˆà¸¡à¸µà¸¡à¸¸à¸¡à¸–à¹ˆà¸²à¸¢à¸£à¸¹à¸›à¸Ÿà¸µà¸¥à¸”à¸µà¸—à¸¸à¸à¸¡à¸¸à¸¡ à¹à¸¥à¸°à¹€à¸¡à¸™à¸¹à¹€à¸„à¸£à¸·à¹ˆà¸­à¸‡à¸”à¸·à¹ˆà¸¡à¹à¸¥à¸°à¸‚à¸™à¸¡à¹ƒà¸«à¹‰à¹€à¸¥à¸·à¸­à¸à¸¡à¸²à¸à¸¡à¸²à¸¢',
    'address': 'à¸«à¸¡à¸¹à¹ˆ 12 à¸šà¹‰à¸²à¸™à¸ªà¸‡à¹€à¸›à¸·à¸­à¸¢ à¸–à¸™à¸™ à¸‚à¸­à¸™à¹à¸à¹ˆà¸™à¹€à¸Šà¸µà¸¢à¸‡à¸¢à¸·à¸™ à¸­à¸³à¹€à¸ à¸­à¹€à¸¡à¸·à¸­à¸‡à¸‚à¸­à¸™à¹à¸à¹ˆà¸™ à¸ˆà¸±à¸‡à¸«à¸§à¸±à¸”à¸‚à¸­à¸™à¹à¸à¹ˆà¸™',
    'hours': '09:00 - 18:00 à¸™.',
    'phone': '089 710 8382',
    'mapUrl': 'https://maps.app.goo.gl/wzqLX1kuo5GMbYBDA?g_st=ic',
  },
  {
    'name': 'Chujai the roaster',
    'lat': 16.43832,
    'lon': 102.82897,
    'category': 'cafe',
    'province': 'à¸‚à¸­à¸™à¹à¸à¹ˆà¸™',
    'image': 'assets/images/ChujaiTheRoaster.jpg',
    'description': 'à¸£à¹‰à¸²à¸™à¸à¸²à¹à¸Ÿà¸šà¸£à¸£à¸¢à¸²à¸à¸²à¸¨à¹‚à¸®à¸¡à¸¡à¸µà¹ˆà¸—à¸µà¹ˆà¹€à¸›à¹‡à¸™ Pet friendly à¹à¸¥à¸°à¸¢à¸±à¸‡à¸¡à¸µà¹€à¸¡à¸™à¸¹à¸­à¸²à¸«à¸²à¸£à¸ªà¸¸à¸”à¸­à¸£à¹ˆà¸­à¸¢',
    'address': 'à¸•à¸³à¸šà¸¥à¹ƒà¸™à¹€à¸¡à¸·à¸­à¸‡ à¸­à¸³à¹€à¸ à¸­à¹€à¸¡à¸·à¸­à¸‡à¸‚à¸­à¸™à¹à¸à¹ˆà¸™ à¸‚à¸­à¸™à¹à¸à¹ˆà¸™ 40000',
    'hours': '08:30 - 19:00 à¸™.',
    'phone': '096 687 5356',
    'mapUrl': 'https://maps.app.goo.gl/wXaRwc95DsrQueXS9?g_st=ic',
  },
  {
    'name': 'Punpang (à¸›à¸±à¹‰à¸™à¹à¸›à¹‰à¸‡)',
    'lat': 16.42689,
    'lon': 102.80205,
    'category': 'cafe',
    'province': 'à¸‚à¸­à¸™à¹à¸à¹ˆà¸™',
    'image': 'assets/images/PunpangCafe.jpg',
    'description': 'à¸£à¹‰à¸²à¸™à¸‚à¸™à¸¡à¸«à¸§à¸²à¸™à¹‚à¸®à¸¡à¹€à¸¡à¸”à¸—à¸µà¹ˆà¸¡à¸µà¸¡à¸¸à¸¡à¸–à¹ˆà¸²à¸¢à¸£à¸¹à¸›à¹€à¸žà¸µà¸¢à¸š à¹€à¸«à¸¡à¸²à¸°à¸ªà¸³à¸«à¸£à¸±à¸šà¸ªà¸²à¸§ à¹† à¸—à¸µà¹ˆà¸Šà¸­à¸šà¸à¸²à¸£à¸–à¹ˆà¸²à¸¢à¸ à¸²à¸ž',
    'address': '577 à¸–à¸™à¸™ à¸šà¹‰à¸²à¸™à¸à¸­à¸ 40 à¸•à¸³à¸šà¸¥à¸šà¹‰à¸²à¸™à¹€à¸›à¹‡à¸” à¸­à¸³à¹€à¸ à¸­à¹€à¸¡à¸·à¸­à¸‡à¸‚à¸­à¸™à¹à¸à¹ˆà¸™ à¸‚à¸­à¸™à¹à¸à¹ˆà¸™ 40000',
    'hours': '11:00 - 20:00 à¸™.',
    'phone': '-',
    'mapUrl': 'https://maps.app.goo.gl/ucRM5CXYai2uzsJV9?g_st=ic',
  },
  {
    'name': 'à¸¥à¹ˆà¸­à¸‡à¹à¸à¹ˆà¸‡à¸œà¸²à¹€à¸—à¸§à¸”à¸²',
    'lat': 16.65148, // à¸žà¸´à¸à¸±à¸”à¸¥à¸°à¸•à¸´à¸ˆà¸¹à¸”à¸—à¸µà¹ˆà¹ƒà¸à¸¥à¹‰à¹€à¸„à¸µà¸¢à¸‡
    'lon': 101.77447, // à¸žà¸´à¸à¸±à¸”à¸¥à¸­à¸‡à¸•à¸´à¸ˆà¸¹à¸”à¸—à¸µà¹ˆà¹ƒà¸à¸¥à¹‰à¹€à¸„à¸µà¸¢à¸‡
    'category': 'adventure',  // à¸ªà¸²à¸¢à¸œà¸ˆà¸à¸ à¸±à¸¢
    'province': 'à¸‚à¸­à¸™à¹à¸à¹ˆà¸™',
    'image': 'assets/images/PaThewadaRafting.jpg',
    'description': 'à¸ªà¸–à¸²à¸™à¸—à¸µà¹ˆà¸—à¹ˆà¸­à¸‡à¹€à¸—à¸µà¹ˆà¸¢à¸§à¸—à¸µà¹ˆà¹€à¸«à¸¡à¸²à¸°à¸à¸±à¸šà¸à¸²à¸£à¸žà¸²à¸¢à¹€à¸£à¸·à¸­à¸Šà¸¡à¸§à¸´à¸§à¸£à¸°à¸¢à¸°à¸—à¸²à¸‡ 9 à¸à¸¡. à¸˜à¸£à¸£à¸¡à¸Šà¸²à¸•à¸´à¸ªà¸§à¸¢à¸‡à¸²à¸¡ à¸¡à¸µà¸™à¹‰à¸³à¹€à¸Šà¸µà¹ˆà¸¢à¸§à¹à¸¥à¸°à¸™à¹‰à¸³à¸”à¸¹à¸”à¸£à¸°à¸¢à¸°à¸—à¸²à¸‡à¹à¸•à¹ˆà¸¥à¸°à¸Šà¹ˆà¸§à¸‡',
    'address': 'à¸šà¹‰à¸²à¸™à¹€à¸‚à¸²à¸§à¸‡ à¸­.à¸ à¸¹à¸œà¸²à¸¡à¹ˆà¸²à¸™ à¸‚à¸­à¸™à¹à¸à¹ˆà¸™ à¸›à¸£à¸°à¹€à¸—à¸¨à¹„à¸—à¸¢',
    'hours': '08:30 - 17:00 à¸™.',
    'phone': '094 556 6416',
    'mapUrl': 'https://maps.app.goo.gl/xmnVKWk8udSCPzZA9',
    'entryFee': 'à¸„à¸™à¸¥à¸° 250 à¸šà¸²à¸—',
  },
  {
    'name': 'à¹à¸¡à¹ˆà¸šà¸±à¸§à¹„à¸¥ à¸“ à¸‚à¸­à¸™à¹à¸à¹ˆà¸™ Farm Stay',
    'lat': 16.2705,
    'lon': 102.8816,
    'category': 'adventure',  // à¸ªà¸²à¸¢à¸œà¸ˆà¸à¸ à¸±à¸¢
    'province': 'à¸‚à¸­à¸™à¹à¸à¹ˆà¸™',
    'image': 'assets/images/MaBualaiFarmStay.jpg',
    'description': 'à¸ªà¸–à¸²à¸™à¸—à¸µà¹ˆà¸—à¹ˆà¸­à¸‡à¹€à¸—à¸µà¹ˆà¸¢à¸§à¹à¸«à¹ˆà¸‡à¹ƒà¸«à¸¡à¹ˆà¸—à¸µà¹ˆà¹ƒà¸«à¹‰à¸„à¸¸à¸“à¹„à¸”à¹‰à¸ªà¸±à¸¡à¸œà¸±à¸ªà¸§à¸´à¸–à¸µà¸Šà¸µà¸§à¸´à¸•à¸‚à¸­à¸‡à¸Šà¸¸à¸¡à¸Šà¸™à¹à¸¥à¸°à¸—à¸³à¸à¸´à¸ˆà¸à¸£à¸£à¸¡à¸•à¹ˆà¸²à¸‡à¹† à¹€à¸Šà¹ˆà¸™ à¸à¸²à¸£à¹ƒà¸Šà¹‰à¸ˆà¸±à¸à¸£à¸¢à¸²à¸™à¹€à¸—à¸µà¹ˆà¸¢à¸§à¹à¸¥à¸°à¸à¸´à¸™à¸­à¸²à¸«à¸²à¸£à¸—à¹‰à¸­à¸‡à¸–à¸´à¹ˆà¸™',
    'address': 'à¸šà¹‰à¸²à¸™à¹‚à¸™à¸™à¸‚à¹ˆà¸² à¸­.à¸žà¸¥ à¸ˆ.à¸‚à¸­à¸™à¹à¸à¹ˆà¸™',
    'hours': 'à¸—à¸¸à¸à¸§à¸±à¸™',
    'phone': '-',
    'mapUrl': '-',  // à¹„à¸¡à¹ˆà¹„à¸”à¹‰à¸£à¸°à¸šà¸¸à¸¥à¸´à¸‡à¸„à¹Œ Google Maps
    'entryFee': '-',
  },
  {
    'name': 'à¸­à¸¸à¸—à¸¢à¸²à¸™à¹à¸«à¹ˆà¸‡à¸Šà¸²à¸•à¸´à¸ à¸¹à¸œà¸²à¸¡à¹ˆà¸²à¸™',
    'lat': 16.75701,
    'lon': 101.96990,
    'category': 'adventure',  // à¸ªà¸²à¸¢à¸œà¸ˆà¸à¸ à¸±à¸¢
    'province': 'à¸‚à¸­à¸™à¹à¸à¹ˆà¸™',
    'image': 'assets/images/PhuPhamarnNationalPark.jpg',
    'description': 'à¸­à¸¸à¸—à¸¢à¸²à¸™à¹à¸«à¹ˆà¸‡à¸Šà¸²à¸•à¸´à¸—à¸µà¹ˆà¸¡à¸µà¹à¸«à¸¥à¹ˆà¸‡à¸—à¹ˆà¸­à¸‡à¹€à¸—à¸µà¹ˆà¸¢à¸§à¸—à¸²à¸‡à¸˜à¸£à¸£à¸¡à¸Šà¸²à¸•à¸´à¸«à¸¥à¸²à¸à¸«à¸¥à¸²à¸¢ à¹€à¸Šà¹ˆà¸™ à¸ à¸¹à¹€à¸‚à¸² à¸–à¹‰à¸³à¸žà¸à¸²à¸™à¸²à¸„à¸£à¸²à¸Š à¸™à¹‰à¸³à¸•à¸à¸•à¸²à¸”à¹ƒà¸«à¸à¹ˆ à¹à¸¥à¸°à¸™à¹‰à¸³à¸•à¸à¸žà¸¥à¸²à¸à¸—à¸­à¸‡',
    'address': '201 à¸•à¸³à¸šà¸¥à¸™à¸²à¸«à¸™à¸­à¸‡à¸—à¸¸à¹ˆà¸¡ à¸­à¸³à¹€à¸ à¸­à¸Šà¸¸à¸¡à¹à¸ž à¸ˆà¸±à¸‡à¸«à¸§à¸±à¸”à¸‚à¸­à¸™à¹à¸à¹ˆà¸™',
    'hours': '08:30 â€“ 16:30 à¸™.',
    'phone': '043-001753',
    'mapUrl': 'https://maps.app.goo.gl/cbqTuYoz6gJjS8e67',
    'entryFee': 'à¸œà¸¹à¹‰à¹ƒà¸«à¸à¹ˆ (à¸Šà¸²à¸§à¹„à¸—à¸¢) 20 à¸šà¸²à¸—, à¹€à¸”à¹‡à¸ (à¸Šà¸²à¸§à¹„à¸—à¸¢) 10 à¸šà¸²à¸— / à¸œà¸¹à¹‰à¹ƒà¸«à¸à¹ˆ (à¸•à¹ˆà¸²à¸‡à¸Šà¸²à¸•à¸´) 100 à¸šà¸²à¸—, à¹€à¸”à¹‡à¸ (à¸•à¹ˆà¸²à¸‡à¸Šà¸²à¸•à¸´) 50 à¸šà¸²à¸—',
  },
  {
    'name': 'à¸­à¸™à¸¸à¸ªà¸²à¸§à¸£à¸µà¸¢à¹Œà¸žà¸£à¸°à¸™à¸„à¸£à¸¨à¸£à¸µà¸šà¸£à¸´à¸£à¸±à¸à¸©à¹Œ',
    'lat': 16.42077,
    'lon': 102.83855,
    'category': 'history',  // à¸ªà¸²à¸¢à¸›à¸£à¸°à¸§à¸±à¸•à¸´à¸¨à¸²à¸ªà¸•à¸£à¹Œ
    'province': 'à¸‚à¸­à¸™à¹à¸à¹ˆà¸™',
    'image': 'assets/images/PhraNakhonSriBhirakStatue.jpg',
    'description': 'à¸­à¸™à¸¸à¸ªà¸²à¸§à¸£à¸µà¸¢à¹Œà¸žà¸£à¸°à¸™à¸„à¸£à¸¨à¸£à¸µà¸šà¸£à¸´à¸£à¸±à¸à¸©à¹Œà¸«à¸£à¸·à¸­à¸—à¹‰à¸²à¸§à¹€à¸žà¸µà¹‰à¸¢à¹€à¸¡à¸·à¸­à¸‡à¹à¸žà¸™ à¸‚à¸¸à¸™à¸™à¸²à¸‡à¸—à¸µà¹ˆà¸¡à¸µà¸šà¸—à¸šà¸²à¸—à¸ªà¸³à¸„à¸±à¸à¹ƒà¸™à¸à¸²à¸£à¸ªà¸£à¹‰à¸²à¸‡à¹€à¸¡à¸·à¸­à¸‡à¸‚à¸­à¸™à¹à¸à¹ˆà¸™à¹ƒà¸™à¸›à¸µ à¸ž.à¸¨. 2340',
    'address': 'à¸–à¸™à¸™à¸£à¸­à¸šà¸šà¸¶à¸‡à¹à¸à¹ˆà¸™à¸™à¸„à¸£ à¸•à¸³à¸šà¸¥à¹€à¸¡à¸·à¸­à¸‡à¹€à¸à¹ˆà¸² à¸­à¸³à¹€à¸ à¸­à¹€à¸¡à¸·à¸­à¸‡à¸‚à¸­à¸™à¹à¸à¹ˆà¸™ à¸ˆà¸±à¸‡à¸«à¸§à¸±à¸”à¸‚à¸­à¸™à¹à¸à¹ˆà¸™',
    'hours': '06:00 - 18:00 à¸™.',
    'phone': '-',
    'mapUrl': 'https://maps.app.goo.gl/3L2isp64cYM4GC459',
    'entryFee': 'à¸Ÿà¸£à¸µ',
  },
  {
    'name': 'à¸›à¸£à¸²à¸ªà¸²à¸—à¹€à¸›à¸·à¸­à¸¢à¸™à¹‰à¸­à¸¢',
    'lat': 15.88028,
    'lon': 102.90969,
    'category': 'history',  // à¸ªà¸²à¸¢à¸›à¸£à¸°à¸§à¸±à¸•à¸´à¸¨à¸²à¸ªà¸•à¸£à¹Œ
    'province': 'à¸‚à¸­à¸™à¹à¸à¹ˆà¸™',
    'image': 'assets/images/PrasatPueanNoi.jpg',
    'description': 'à¸›à¸£à¸²à¸ªà¸²à¸—à¸¨à¸´à¸¥à¸›à¸°à¸‚à¸­à¸¡à¹‚à¸šà¸£à¸²à¸“à¸œà¸ªà¸¡à¸£à¸°à¸«à¸§à¹ˆà¸²à¸‡à¸¨à¸´à¸¥à¸›à¸°à¹€à¸‚à¸¡à¸£à¹à¸šà¸šà¸šà¸²à¸›à¸§à¸™à¹à¸¥à¸°à¸™à¸„à¸£à¸§à¸±à¸” à¸ªà¸£à¹‰à¸²à¸‡à¹ƒà¸™à¸žà¸¸à¸—à¸˜à¸¨à¸•à¸§à¸£à¸£à¸©à¸—à¸µà¹ˆ 16-17 à¹€à¸›à¹‡à¸™à¸›à¸£à¸²à¸ªà¸²à¸—à¸—à¸µà¹ˆà¸¡à¸µà¸„à¸§à¸²à¸¡à¸ªà¸¡à¸šà¸¹à¸£à¸“à¹Œà¸—à¸µà¹ˆà¸ªà¸¸à¸”à¹ƒà¸™à¸ à¸²à¸„à¸­à¸µà¸ªà¸²à¸™à¸•à¸­à¸™à¸šà¸™',
    'address': 'à¸•à¸³à¸šà¸¥à¹€à¸›à¸·à¸­à¸¢à¸™à¹‰à¸­à¸¢ à¸­à¸³à¹€à¸ à¸­à¹€à¸›à¸·à¸­à¸¢à¸™à¹‰à¸­à¸¢ à¸ˆà¸±à¸‡à¸«à¸§à¸±à¸”à¸‚à¸­à¸™à¹à¸à¹ˆà¸™',
    'hours': '07:00 - 19:00 à¸™.',
    'phone': '062 119 5789',
    'mapUrl': 'https://goo.gl/maps/tfDmmZQks9aAz5Zk8',
    'entryFee': 'à¸Ÿà¸£à¸µ',
  },
  {
    'name': 'à¸à¸¹à¹ˆà¸›à¸£à¸°à¸ à¸²à¸Šà¸±à¸¢',
    'lat': 16.61225,
    'lon': 102.93129,
    'category': 'history',  // à¸ªà¸²à¸¢à¸›à¸£à¸°à¸§à¸±à¸•à¸´à¸¨à¸²à¸ªà¸•à¸£à¹Œ
    'province': 'à¸‚à¸­à¸™à¹à¸à¹ˆà¸™',
    'image': 'assets/images/KuPraphachai.jpg',
    'description': 'à¹‚à¸šà¸£à¸²à¸“à¸ªà¸–à¸²à¸™à¸—à¸µà¹ˆà¸ªà¸£à¹‰à¸²à¸‡à¸‚à¸¶à¹‰à¸™à¸•à¸±à¹‰à¸‡à¹à¸•à¹ˆà¸ªà¸¡à¸±à¸¢à¸žà¸£à¸°à¹€à¸ˆà¹‰à¸²à¸Šà¸±à¸¢à¸§à¸£à¸¡à¸±à¸™à¸—à¸µà¹ˆ 7 à¹à¸«à¹ˆà¸‡à¸­à¸²à¸“à¸²à¸ˆà¸±à¸à¸£à¹€à¸‚à¸¡à¸£à¹‚à¸šà¸£à¸²à¸“ à¸ à¸²à¸¢à¹ƒà¸™à¸¡à¸µà¸žà¸£à¸°à¸žà¸¸à¸—à¸˜à¸£à¸¹à¸›à¸›à¸£à¸°à¸”à¸´à¸©à¸à¸²à¸™à¸­à¸¢à¸¹à¹ˆà¹à¸¥à¸°à¸«à¸´à¸™à¸¨à¸±à¸à¸”à¸´à¹Œà¸ªà¸´à¸—à¸˜à¸´à¹Œà¹ƒà¸«à¹‰à¸à¸£à¸²à¸šà¹„à¸«à¸§à¹‰',
    'address': 'à¸«à¸¡à¸¹à¹ˆ 1 à¸•à¸³à¸šà¸¥à¸šà¸±à¸§à¹ƒà¸«à¸à¹ˆ à¸­à¸³à¹€à¸ à¸­à¸™à¹‰à¸³à¸žà¸­à¸‡ à¸ˆà¸±à¸‡à¸«à¸§à¸±à¸”à¸‚à¸­à¸™à¹à¸à¹ˆà¸™',
    'hours': '06:00 - 18:00 à¸™.',
    'phone': '-',
    'mapUrl': 'https://goo.gl/maps/hyUTKjyfevU9k3ro6',
    'entryFee': 'à¸Ÿà¸£à¸µ',
  },
  {
    'name': 'à¹€à¸—à¸§à¸²à¸¥à¸±à¸¢à¸¨à¸´à¸§à¸°à¸¡à¸«à¸²à¹€à¸—à¸ž',
    'lat': 16.46497,
    'lon': 102.89064,
    'category': 'history',  // à¸ªà¸²à¸¢à¸›à¸£à¸°à¸§à¸±à¸•à¸´à¸¨à¸²à¸ªà¸•à¸£à¹Œ
    'province': 'à¸‚à¸­à¸™à¹à¸à¹ˆà¸™',
    'image': 'assets/images/ShivaMahatepTemple.jpg',
    'description': 'à¸¨à¸²à¸ªà¸™à¸ªà¸–à¸²à¸™à¸‚à¸­à¸‡à¸¨à¸²à¸ªà¸™à¸²à¸®à¸´à¸™à¸”à¸¹à¸—à¸µà¹ˆà¸ªà¸£à¹‰à¸²à¸‡à¸‚à¸¶à¹‰à¸™à¸•à¸±à¹‰à¸‡à¹à¸•à¹ˆà¸›à¸µ à¸ž.à¸¨. 2554 à¸¡à¸µà¸­à¸‡à¸„à¹Œà¸žà¸£à¸°à¸žà¸´à¸†à¹€à¸™à¸¨ à¸­à¸±à¸¡à¸£à¸´à¸™à¸—à¸£à¸²à¸˜à¸´à¸£à¸²à¸Šà¹€à¸ˆà¹‰à¸² à¹à¸¥à¸°à¸žà¸£à¸°à¸•à¸£à¸µà¸¡à¸¹à¸£à¸•à¸´ à¹€à¸›à¹‡à¸™à¸•à¹‰à¸™',
    'address': 'à¸–à¸™à¸™à¹€à¸¥à¸µà¹ˆà¸¢à¸‡à¹€à¸¡à¸·à¸­à¸‡à¸‚à¸­à¸™à¹à¸à¹ˆà¸™ à¸­à¸³à¹€à¸ à¸­à¹€à¸¡à¸·à¸­à¸‡à¸‚à¸­à¸™à¹à¸à¹ˆà¸™ à¸ˆà¸±à¸‡à¸«à¸§à¸±à¸”à¸‚à¸­à¸™à¹à¸à¹ˆà¸™',
    'hours': '08:00 - 18:00 à¸™.',
    'phone': '095 959 8789',
    'mapUrl': 'https://maps.app.goo.gl/rSRgzr6sitTgJWyn9',
    'entryFee': 'à¸Ÿà¸£à¸µ',
  },
  {
    'name': 'à¹‚à¸ªà¸à¸œà¸µà¸”à¸´à¸š',
    'lat': 15.83322,
    'lon': 102.69289,
    'category': 'history',  // à¸ªà¸²à¸¢à¸›à¸£à¸°à¸§à¸±à¸•à¸´à¸¨à¸²à¸ªà¸•à¸£à¹Œ
    'province': 'à¸‚à¸­à¸™à¹à¸à¹ˆà¸™',
    'image': 'assets/images/SokPheeDib.jpg',
    'description': 'à¹à¸«à¸¥à¹ˆà¸‡à¸—à¹ˆà¸­à¸‡à¹€à¸—à¸µà¹ˆà¸¢à¸§à¸—à¸²à¸‡à¸˜à¸£à¸“à¸µà¸§à¸´à¸—à¸¢à¸²à¸—à¸µà¹ˆà¸¡à¸µà¸­à¸²à¸¢à¸¸à¸›à¸£à¸°à¸¡à¸²à¸“ 65 à¸¥à¹‰à¸²à¸™à¸›à¸µ à¹€à¸›à¹‡à¸™à¸¥à¸±à¸à¸©à¸“à¸°à¸«à¸´à¸™à¸¢à¸¸à¸„à¸„à¸£à¸µà¹€à¸—à¹€à¸‹à¸µà¸¢à¸ªà¸•à¸­à¸™à¸›à¸¥à¸²à¸¢à¸—à¸µà¹ˆà¹‚à¸”à¸™à¸à¸±à¸”à¹€à¸‹à¸²à¸°à¸ˆà¸²à¸à¸à¸£à¸°à¹à¸ªà¸™à¹‰à¸³',
    'address': 'à¸šà¹‰à¸²à¸™à¸«à¸™à¸­à¸‡à¸šà¸±à¸§à¸™à¹‰à¸­à¸¢ à¸«à¸¡à¸¹à¹ˆ 8 à¸•à¸³à¸šà¸¥à¹‚à¸ªà¸à¸™à¸à¹€à¸•à¹‡à¸™ à¸­à¸³à¹€à¸ à¸­à¸žà¸¥ à¸ˆà¸±à¸‡à¸«à¸§à¸±à¸”à¸‚à¸­à¸™à¹à¸à¹ˆà¸™',
    'hours': 'à¸—à¸¸à¸à¸§à¸±à¸™',
    'phone': '-',
    'mapUrl': 'https://goo.gl/maps/VQ2GEdaH3yba7EtB8',
    'entryFee': 'à¸Ÿà¸£à¸µ',
  },
  {
    'name': 'à¸à¸¹à¹ˆà¹à¸à¹‰à¸§',
    'lat': 16.42594,
    'lon': 102.48080,
    'category': 'history',  // à¸ªà¸²à¸¢à¸›à¸£à¸°à¸§à¸±à¸•à¸´à¸¨à¸²à¸ªà¸•à¸£à¹Œ
    'province': 'à¸‚à¸­à¸™à¹à¸à¹ˆà¸™',
    'image': 'assets/images/KuKaew.jpg',
    'description': 'à¹‚à¸šà¸£à¸²à¸“à¸ªà¸–à¸²à¸™à¹ƒà¸™à¹€à¸¡à¸·à¸­à¸‡à¸‚à¸­à¸™à¹à¸à¹ˆà¸™à¸—à¸µà¹ˆà¹€à¸›à¹‡à¸™à¸£à¸¹à¸›à¸›à¸£à¸²à¸ªà¸²à¸—à¸«à¸´à¸™à¹à¸šà¸šà¸­à¹‚à¸£à¸„à¸¢à¸²à¸¨à¸²à¸¥ à¸•à¸à¹à¸•à¹ˆà¸‡à¹ƒà¸™à¸¨à¸´à¸¥à¸›à¸°à¹à¸šà¸šà¸šà¸²à¸¢à¸™ à¸ˆà¸²à¸à¸ªà¸¡à¸±à¸¢à¸žà¸£à¸°à¹€à¸ˆà¹‰à¸²à¸Šà¸±à¸¢à¸§à¸£à¸¡à¸±à¸™à¸—à¸µà¹ˆ 7',
    'address': 'à¸§à¸±à¸”à¸à¸¹à¹ˆà¹à¸à¹‰à¸§à¸£à¸±à¸•à¸™à¸²à¸£à¸²à¸¡ à¸šà¹‰à¸²à¸™à¸«à¸±à¸§à¸ªà¸£à¸° à¸•à¸³à¸šà¸¥à¸”à¸­à¸™à¸Šà¹‰à¸²à¸‡ à¸­à¸³à¹€à¸ à¸­à¹€à¸¡à¸·à¸­à¸‡ à¸ˆà¸±à¸‡à¸«à¸§à¸±à¸”à¸‚à¸­à¸™à¹à¸à¹ˆà¸™',
    'hours': 'à¸•à¸¥à¸­à¸”à¸§à¸±à¸™',
    'phone': '-',
    'mapUrl': 'https://goo.gl/maps/g9aVjpveemP6kshK9',
    'entryFee': 'à¸Ÿà¸£à¸µ',
  },
  {
    'name': 'à¸žà¸´à¸žà¸´à¸˜à¸ à¸±à¸“à¸‘à¹Œà¹„à¸”à¹‚à¸™à¹€à¸ªà¸²à¸£à¹Œà¸ à¸¹à¹€à¸§à¸µà¸¢à¸‡',
    'lat': 16.67870,
    'lon': 102.26843,
    'category': 'family',  // à¸ªà¸²à¸¢à¸›à¸£à¸°à¸§à¸±à¸•à¸´à¸¨à¸²à¸ªà¸•à¸£à¹Œ
    'province': 'à¸‚à¸­à¸™à¹à¸à¹ˆà¸™',
    'image': 'assets/images/DinosaurMuseum.jpg',
    'description': 'à¸žà¸´à¸žà¸´à¸˜à¸ à¸±à¸“à¸‘à¹Œà¸—à¸µà¹ˆà¸ˆà¸±à¸”à¹à¸ªà¸”à¸‡à¸‹à¸²à¸à¸Ÿà¸­à¸ªà¸‹à¸´à¸¥à¹„à¸”à¹‚à¸™à¹€à¸ªà¸²à¸£à¹Œà¹à¸¥à¸°à¹€à¸£à¸·à¹ˆà¸­à¸‡à¸£à¸²à¸§à¹€à¸à¸µà¹ˆà¸¢à¸§à¸à¸±à¸šà¹„à¸”à¹‚à¸™à¹€à¸ªà¸²à¸£à¹Œà¹ƒà¸™à¸ à¸¹à¹€à¸§à¸µà¸¢à¸‡',
    'address': 'à¸•à¸³à¸šà¸¥à¹ƒà¸™à¹€à¸¡à¸·à¸­à¸‡ à¸­à¸³à¹€à¸ à¸­à¹€à¸§à¸µà¸¢à¸‡à¹€à¸à¹ˆà¸² à¸ˆà¸±à¸‡à¸«à¸§à¸±à¸”à¸‚à¸­à¸™à¹à¸à¹ˆà¸™',
    'hours': '09:00 â€“ 17:00 à¸™.',
    'phone': '0-4343-8204',
    'mapUrl': 'https://goo.gl/maps/MB8RmfJGkXQ313wn7',
    'entryFee': 'à¸„à¸™à¹„à¸—à¸¢ à¸œà¸¹à¹‰à¹ƒà¸«à¸à¹ˆ 20 à¸šà¸²à¸— à¹€à¸”à¹‡à¸ 10 à¸šà¸²à¸—, à¸•à¹ˆà¸²à¸‡à¸Šà¸²à¸•à¸´ à¸œà¸¹à¹‰à¹ƒà¸«à¸à¹ˆ 60 à¸šà¸²à¸— à¹€à¸”à¹‡à¸ 30 à¸šà¸²à¸—',
  },
  {
    'name': 'à¸ªà¸§à¸™à¸ªà¸±à¸•à¸§à¹Œà¸‚à¸­à¸™à¹à¸à¹ˆà¸™',
    'lat': 16.84570,
    'lon': 102.89725,
    'category': 'family',  // à¸ªà¸²à¸¢à¸›à¸£à¸°à¸§à¸±à¸•à¸´à¸¨à¸²à¸ªà¸•à¸£à¹Œ
    'province': 'à¸‚à¸­à¸™à¹à¸à¹ˆà¸™',
    'image': 'assets/images/KhonKaenZoo.jpg',
    'description': 'à¸ªà¸–à¸²à¸™à¸—à¸µà¹ˆà¸žà¸±à¸à¸œà¹ˆà¸­à¸™à¸«à¸¢à¹ˆà¸­à¸™à¹ƒà¸ˆà¸—à¸µà¹ˆà¸¡à¸µà¸ªà¸±à¸•à¸§à¹Œà¸•à¹ˆà¸²à¸‡à¹† à¸ˆà¸²à¸à¸—à¸±à¹ˆà¸§à¹‚à¸¥à¸à¹à¸¥à¸°à¸à¸´à¸ˆà¸à¸£à¸£à¸¡à¹ƒà¸«à¹‰à¸­à¸²à¸«à¸²à¸£à¸ªà¸±à¸•à¸§à¹Œà¹à¸¥à¸°à¸à¸²à¸£à¹à¸ªà¸”à¸‡',
    'address': 'à¸•à¸³à¸šà¸¥à¸„à¸³à¸¡à¹ˆà¸§à¸‡ à¸­à¸³à¹€à¸ à¸­à¹€à¸‚à¸²à¸ªà¸§à¸™à¸à¸§à¸²à¸‡ à¸ˆà¸±à¸‡à¸«à¸§à¸±à¸”à¸‚à¸­à¸™à¹à¸à¹ˆà¸™',
    'hours': '08:00 â€“ 16:30 à¸™.',
    'phone': '-',
    'mapUrl': 'https://maps.app.goo.gl/do74oxcvUxW6AZYB7',
    'entryFee': 'à¸œà¸¹à¹‰à¹ƒà¸«à¸à¹ˆ 130 à¸šà¸²à¸— à¹€à¸”à¹‡à¸ 40 à¸šà¸²à¸—',
  },
  {
    'name': 'à¸žà¸£à¸°à¸˜à¸²à¸•à¸¸à¸‚à¸²à¸¡à¹à¸à¹ˆà¸™',
    'lat': 16.56411,
    'lon': 102.95404,
    'category': 'family',  // à¸ªà¸²à¸¢à¸›à¸£à¸°à¸§à¸±à¸•à¸´à¸¨à¸²à¸ªà¸•à¸£à¹Œ
    'province': 'à¸‚à¸­à¸™à¹à¸à¹ˆà¸™',
    'image': 'assets/images/PhraThatKhamKaen.jpg',
    'description': 'à¸›à¸¹à¸Šà¸™à¸µà¸¢à¸ªà¸–à¸²à¸™à¸—à¸µà¹ˆà¸ªà¸³à¸„à¸±à¸à¸—à¸µà¹ˆà¸¡à¸µà¸›à¸£à¸°à¸§à¸±à¸•à¸´à¸¢à¸²à¸§à¸™à¸²à¸™ à¹à¸¥à¸°à¸¢à¸±à¸‡à¹€à¸›à¹‡à¸™à¸•à¸£à¸²à¸ªà¸±à¸à¸¥à¸±à¸à¸©à¸“à¹Œà¸‚à¸­à¸‡à¸ˆà¸±à¸‡à¸«à¸§à¸±à¸”à¸‚à¸­à¸™à¹à¸à¹ˆà¸™',
    'address': 'à¸§à¸±à¸”à¹€à¸ˆà¸•à¸´à¸¢à¸ à¸¹à¸¡à¸´ à¸šà¹‰à¸²à¸™à¸‚à¸²à¸¡ à¸«à¸¡à¸¹à¹ˆà¸—à¸µà¹ˆ 1 à¸•à¸³à¸šà¸¥à¸šà¹‰à¸²à¸™à¸‚à¸²à¸¡ à¸­à¸³à¹€à¸ à¸­à¸™à¹‰à¸³à¸žà¸­à¸‡ à¸ˆà¸±à¸‡à¸«à¸§à¸±à¸”à¸‚à¸­à¸™à¹à¸à¹ˆà¸™',
    'hours': '07:00 â€“ 17:00 à¸™.',
    'phone': '-',
    'mapUrl': 'https://goo.gl/maps/ohvuGXatxPXiZ9Je7',
    'entryFee': 'à¸Ÿà¸£à¸µ',
  },

  {
    'name': 'à¸§à¸±à¸”à¸žà¸£à¸°à¸žà¸¸à¸—à¸˜à¸šà¸²à¸—à¸ à¸¹à¸žà¸²à¸™à¸„à¸³',
    'lat': 16.76296,
    'lon': 102.62371,
    'category': 'family',  // à¸ªà¸²à¸¢à¸›à¸£à¸°à¸§à¸±à¸•à¸´à¸¨à¸²à¸ªà¸•à¸£à¹Œ
    'province': 'à¸‚à¸­à¸™à¹à¸à¹ˆà¸™',
    'image': 'assets/images/PhraPhutthabatPhuPankham.jpg',
    'description': 'à¸§à¸±à¸”à¸—à¸µà¹ˆà¸›à¸£à¸°à¸”à¸´à¸©à¸à¸²à¸™à¸£à¸­à¸¢à¸žà¸£à¸°à¸žà¸¸à¸—à¸˜à¸šà¸²à¸—à¸ˆà¸³à¸¥à¸­à¸‡à¹à¸¥à¸°à¸žà¸£à¸°à¸žà¸¸à¸—à¸˜à¸­à¸¸à¸•à¸£à¸¡à¸«à¸²à¸¡à¸‡à¸„à¸¥à¸­à¸¸à¸šà¸¥à¸£à¸±à¸•à¸™à¹Œ, à¸šà¸±à¸™à¹„à¸”à¸žà¸à¸²à¸™à¸²à¸„ 1,049 à¸‚à¸±à¹‰à¸™',
    'address': '103 à¸«à¸¡à¸¹à¹ˆ 1 à¸­à¸³à¹€à¸ à¸­à¸­à¸¸à¸šà¸¥à¸£à¸±à¸•à¸™à¹Œ à¸ˆà¸±à¸‡à¸«à¸§à¸±à¸”à¸‚à¸­à¸™à¹à¸à¹ˆà¸™',
    'hours': '07:00 - 17:00 à¸™.',
    'phone': '-',
    'mapUrl': 'https://goo.gl/maps/vGXL3yogyFCz9DrK7',
    'entryFee': 'à¸Ÿà¸£à¸µ',
  },
  {
    'name': 'à¹€à¸­à¹Šà¸à¸‹à¸­à¸•à¸´à¸„ à¹€à¸žà¸— à¹à¸­à¸™à¸”à¹Œ à¸Ÿà¸²à¸§à¹€à¸—à¸™ à¹‚à¸Šà¸§à¹Œ',
    'lat': 16.45983,
    'lon': 102.79495,
    'category': 'family',  // à¸ªà¸²à¸¢à¸›à¸£à¸°à¸§à¸±à¸•à¸´à¸¨à¸²à¸ªà¸•à¸£à¹Œ
    'province': 'à¸‚à¸­à¸™à¹à¸à¹ˆà¸™',
    'image': 'assets/images/ExoticPetsFountainShow.jpg',
    'description': 'à¸ªà¸§à¸™à¸ªà¸±à¸•à¸§à¹Œà¸‚à¸™à¸²à¸”à¹€à¸¥à¹‡à¸à¸—à¸µà¹ˆà¸¡à¸µà¸ªà¸±à¸•à¸§à¹Œà¸«à¸¥à¸²à¸à¸«à¸¥à¸²à¸¢à¸Šà¸™à¸´à¸”à¹à¸¥à¸°à¸à¸²à¸£à¹à¸ªà¸”à¸‡à¸™à¹‰à¸³à¸žà¸¸à¹€à¸£à¸´à¸‡à¸£à¸°à¸šà¸³à¹ƒà¸™à¸Šà¹ˆà¸§à¸‡à¸à¸¥à¸²à¸‡à¸„à¸·à¸™',
    'address': '888 à¸‹à¸­à¸¢à¸™à¸§à¸¥à¸«à¸‡ à¸•à¸³à¸šà¸¥à¸¨à¸´à¸¥à¸² à¸­à¸³à¹€à¸ à¸­à¹€à¸¡à¸·à¸­à¸‡à¸‚à¸­à¸™à¹à¸à¹ˆà¸™ à¸‚à¸­à¸™à¹à¸à¹ˆà¸™',
    'hours': '10:00 - 18:00 à¸™.',
    'phone': '088-192-1555',
    'mapUrl': 'https://maps.app.goo.gl/ia9Fih9v6z5FrCA58',
    'entryFee': '150 à¸šà¸²à¸—',
  },
  {
    'name': 'à¸§à¸±à¸”à¸—à¸¸à¹ˆà¸‡à¹€à¸¨à¸£à¸©à¸à¸µ',
    'lat': 16.41210,
    'lon': 102.88589,
    'category': 'family',  // à¸ªà¸²à¸¢à¸›à¸£à¸°à¸§à¸±à¸•à¸´à¸¨à¸²à¸ªà¸•à¸£à¹Œ
    'province': 'à¸‚à¸­à¸™à¹à¸à¹ˆà¸™',
    'image': 'assets/images/WatThungSeththi.jpg',
    'description': 'à¸§à¸±à¸”à¸—à¸µà¹ˆà¸¡à¸µà¸¡à¸«à¸²à¹€à¸ˆà¸”à¸µà¸¢à¹Œà¸œà¸ªà¸¡à¸œà¸ªà¸²à¸™à¸£à¸°à¸«à¸§à¹ˆà¸²à¸‡à¸­à¸‡à¸„à¹Œà¹€à¸ˆà¸”à¸µà¸¢à¹Œà¸ˆà¸²à¸à¸—à¸±à¹‰à¸‡à¸ªà¸²à¸¡à¹‚à¸¥à¸, à¹à¸¥à¸°à¸¡à¸µà¸ˆà¸¸à¸”à¸ªà¸±à¸à¸à¸²à¸£à¸°à¸¡à¸²à¸à¸¡à¸²à¸¢',
    'address': 'à¸•à¸³à¸šà¸¥à¸žà¸£à¸°à¸¥à¸±à¸š à¸­à¸³à¹€à¸ à¸­à¹€à¸¡à¸·à¸­à¸‡ à¸ˆà¸±à¸‡à¸«à¸§à¸±à¸”à¸‚à¸­à¸™à¹à¸à¹ˆà¸™',
    'hours': '07:00 - 17:00 à¸™.',
    'phone': '-',
    'mapUrl': 'https://goo.gl/maps/TgwSuiuKF9gaiSqK8',
    'entryFee': 'à¸Ÿà¸£à¸µ',
  },
  {
    'name': 'à¸•à¸¥à¸²à¸”à¸•à¹‰à¸™à¸•à¸²à¸¥',
    'lat': 16.45186,
    'lon': 102.82163,
    'category': 'nightlife',  // à¸ªà¸²à¸¢à¸à¸¥à¸²à¸‡à¸„à¸·à¸™
    'province': 'à¸‚à¸­à¸™à¹à¸à¹ˆà¸™',
    'image': 'assets/images/TonTanMarket.jpg',
    'description': 'à¸•à¸¥à¸²à¸”à¸à¸¥à¸²à¸‡à¸„à¸·à¸™à¸—à¸µà¹ˆà¹ƒà¸«à¸à¹ˆà¸—à¸µà¹ˆà¸ªà¸¸à¸”à¹ƒà¸™à¸‚à¸­à¸™à¹à¸à¹ˆà¸™ à¸¡à¸µà¸«à¸¥à¸²à¸à¸«à¸¥à¸²à¸¢à¹‚à¸‹à¸™à¹ƒà¸«à¹‰à¹€à¸¥à¸·à¸­à¸à¹€à¸”à¸´à¸™ à¹€à¸Šà¹ˆà¸™ à¹‚à¸‹à¸™à¸­à¸²à¸«à¸²à¸£, à¹€à¸„à¸£à¸·à¹ˆà¸­à¸‡à¸”à¸·à¹ˆà¸¡, à¹€à¸ªà¸·à¹‰à¸­à¸œà¹‰à¸², à¹à¸¥à¸°à¸‚à¸­à¸‡à¸à¸²à¸ à¸£à¸§à¸¡à¸—à¸±à¹‰à¸‡à¸à¸´à¸ˆà¸à¸£à¸£à¸¡à¸•à¹ˆà¸²à¸‡ à¹† à¹€à¸Šà¹ˆà¸™ à¹‚à¸‹à¸™à¸”à¸¹à¸”à¸§à¸‡à¹à¸¥à¸°à¸¥à¸²à¸™à¹€à¸šà¸µà¸¢à¸£à¹Œ',
    'address': 'à¸–. à¸¡à¸´à¸•à¸£à¸ à¸²à¸ž à¸•à¸³à¸šà¸¥à¹ƒà¸™à¹€à¸¡à¸·à¸­à¸‡ à¸­à¸³à¹€à¸ à¸­à¹€à¸¡à¸·à¸­à¸‡à¸‚à¸­à¸™à¹à¸à¹ˆà¸™ à¸‚à¸­à¸™à¹à¸à¹ˆà¸™ 40110',
    'hours': '16:00 â€“ 23:00 à¸™.',
    'phone': '083 284 5351',
    'mapUrl': 'https://maps.app.goo.gl/MXT3dpw9pAKzLekQ6',
    'entryFee': '-',
  },
  {
    'name': 'à¸•à¸¥à¸²à¸”à¸ˆà¸­à¸¡à¸žà¸¥',
    'lat': 16.45186,
    'lon': 102.84191,
    'category': 'nightlife',  // à¸ªà¸²à¸¢à¸à¸¥à¸²à¸‡à¸„à¸·à¸™
    'province': 'à¸‚à¸­à¸™à¹à¸à¹ˆà¸™',
    'image': 'assets/images/ChomPhonMarket.jpg',
    'description': 'à¸•à¸¥à¸²à¸”à¸—à¸µà¹ˆà¸¡à¸µà¸‚à¸­à¸‡à¸à¸´à¸™à¹à¸‹à¹ˆà¸š à¹† à¸¡à¸²à¸à¸¡à¸²à¸¢ à¹€à¸Šà¹ˆà¸™ à¸£à¹‰à¸²à¸™à¸­à¸²à¸«à¸²à¸£à¸•à¸²à¸¡à¸ªà¸±à¹ˆà¸‡à¹à¸¥à¸°à¸‚à¸™à¸¡à¸«à¸§à¸²à¸™ à¸£à¸§à¸¡à¸–à¸¶à¸‡à¸£à¹‰à¸²à¸™à¸šà¸¸à¸Ÿà¹€à¸Ÿà¸•à¹Œà¹à¸¥à¸°à¸ªà¸´à¸™à¸„à¹‰à¸²à¸•à¹ˆà¸²à¸‡ à¹† à¹€à¸Šà¹ˆà¸™ à¹€à¸ªà¸·à¹‰à¸­à¸œà¹‰à¸²à¹à¸¥à¸°à¹€à¸„à¸£à¸·à¹ˆà¸­à¸‡à¸ªà¸³à¸­à¸²à¸‡',
    'address': '555 à¸–.à¸à¸ªà¸´à¸à¸£à¸—à¸¸à¹ˆà¸‡à¸ªà¸£à¹‰à¸²à¸‡ à¸•.à¹ƒà¸™à¹€à¸¡à¸·à¸­à¸‡ à¸­.à¹€à¸¡à¸·à¸­à¸‡à¸‚à¸­à¸™à¹à¸à¹ˆà¸™ à¸ˆ.à¸‚à¸­à¸™à¹à¸à¹ˆà¸™',
    'hours': '07:00 â€“ 23:00 à¸™.',
    'phone': '081 661 3300',
    'mapUrl': 'https://maps.app.goo.gl/JLahcsLjmMgs147r6',
    'entryFee': '-',
  },
  {
    'name': 'à¸•à¸¥à¸²à¸” 62 BLOC Market',
    'lat': 16.45744,
    'lon': 102.82425,
    'category': 'nightlife',  // à¸ªà¸²à¸¢à¸à¸¥à¸²à¸‡à¸„à¸·à¸™
    'province': 'à¸‚à¸­à¸™à¹à¸à¹ˆà¸™',
    'image': 'assets/images/62BLOCMarket.jpg',
    'description': 'à¸•à¸¥à¸²à¸”à¸à¸¥à¸²à¸‡à¸„à¸·à¸™à¸¢à¸­à¸”à¸™à¸´à¸¢à¸¡à¸—à¸µà¹ˆà¸¡à¸µà¸‚à¸­à¸‡à¸à¸´à¸™à¸­à¸£à¹ˆà¸­à¸¢ à¹† à¹à¸¥à¸°à¹€à¸›à¹‡à¸™à¹à¸«à¸¥à¹ˆà¸‡à¸žà¸±à¸à¸œà¹ˆà¸­à¸™à¸«à¸¢à¹ˆà¸­à¸™à¹ƒà¸ˆà¸ªà¸³à¸«à¸£à¸±à¸šà¸™à¸±à¸à¹€à¸£à¸µà¸¢à¸™ à¸™à¸±à¸à¸¨à¸¶à¸à¸©à¸² à¹à¸¥à¸°à¸§à¸±à¸¢à¸—à¸³à¸‡à¸²à¸™',
    'address': '157/89-91 à¸–à¸™à¸™ à¸à¸±à¸¥à¸›à¸žà¸¤à¸à¸©à¹Œ à¸­à¸³à¹€à¸ à¸­à¹€à¸¡à¸·à¸­à¸‡à¸‚à¸­à¸™à¹à¸à¹ˆà¸™ à¸‚à¸­à¸™à¹à¸à¹ˆà¸™ 40000',
    'hours': '12:00 - 22:00 à¸™.',
    'phone': '083 662 2619',
    'mapUrl': 'https://maps.app.goo.gl/sr9HdXhWYi2kfMuUA',
    'entryFee': '-',
  },
  {
    'name': 'à¸•à¸¥à¸²à¸”à¹‚à¸•à¹‰à¸£à¸¸à¹ˆà¸‡ à¸£à¸·à¹ˆà¸™à¸£à¸¡à¸¢à¹Œ',
    'lat': 16.42556,
    'lon': 102.83318,
    'category': 'nightlife',  // à¸ªà¸²à¸¢à¸à¸¥à¸²à¸‡à¸„à¸·à¸™
    'province': 'à¸‚à¸­à¸™à¹à¸à¹ˆà¸™',
    'image': 'assets/images/RuenRomMarket.jpg',
    'description': 'à¸•à¸¥à¸²à¸”à¹‚à¸•à¹‰à¸£à¸¸à¹ˆà¸‡à¸—à¸µà¹ˆà¸•à¸±à¹‰à¸‡à¸­à¸¢à¸¹à¹ˆà¸šà¸™à¸–à¸™à¸™à¸£à¸·à¹ˆà¸™à¸£à¸¡à¸¢à¹Œ à¹ƒà¸™à¸Šà¹ˆà¸§à¸‡à¸à¸¥à¸²à¸‡à¸„à¸·à¸™à¸šà¸£à¸£à¸¢à¸²à¸à¸²à¸¨à¸„à¸¶à¸à¸„à¸±à¸ à¸¡à¸µà¸£à¹‰à¸²à¸™à¸„à¹‰à¸²à¹€à¸£à¸µà¸¢à¸‡à¸£à¸²à¸¢à¹€à¸•à¹‡à¸¡à¸–à¸™à¸™à¹à¸¥à¸°à¸—à¸±à¹‰à¸‡à¸­à¸²à¸«à¸²à¸£à¹à¸¥à¸°à¸‚à¹‰à¸²à¸§à¸‚à¸­à¸‡à¹€à¸„à¸£à¸·à¹ˆà¸­à¸‡à¹ƒà¸Šà¹‰à¹ƒà¸«à¹‰à¹€à¸¥à¸·à¸­à¸à¸¡à¸²à¸à¸¡à¸²à¸¢',
    'address': '4 à¸£à¸·à¹ˆà¸™à¸£à¸¡à¸¢à¹Œ à¸•à¸³à¸šà¸¥à¹ƒà¸™à¹€à¸¡à¸·à¸­à¸‡ à¸­à¸³à¹€à¸ à¸­à¹€à¸¡à¸·à¸­à¸‡à¸‚à¸­à¸™à¹à¸à¹ˆà¸™ à¸‚à¸­à¸™à¹à¸à¹ˆà¸™ 40000',
    'hours': '17:00 - 02:00 à¸™.',
    'phone': '-',
    'mapUrl': 'https://maps.app.goo.gl/6Vb41MDBqSAXpcHU8',
    'entryFee': '-',
  },
  {
    name: 'à¸§à¸±à¸”à¸«à¸™à¸­à¸‡à¹à¸§à¸‡',
    lat: 16.4471,
    lon: 102.8355,
    category: 'family',
    province: 'à¸‚à¸­à¸™à¹à¸à¹ˆà¸™',
    image: 'assets/images/NongWaengTemple.jpg',
    description: 'à¸§à¸±à¸”à¸—à¸µà¹ˆà¹€à¸«à¸¡à¸²à¸°à¸ªà¸³à¸«à¸£à¸±à¸šà¸„à¸£à¸­à¸šà¸„à¸£à¸±à¸§ à¹€à¸›à¹‡à¸™à¸—à¸µà¹ˆà¸•à¸±à¹‰à¸‡à¸‚à¸­à¸‡à¸žà¸£à¸°à¸¡à¸«à¸²à¸˜à¸²à¸•à¸¸à¹à¸à¹ˆà¸™à¸™à¸„à¸£',
    address: 'à¸–.à¸à¸¥à¸²à¸‡à¹€à¸¡à¸·à¸­à¸‡ à¸•.à¹ƒà¸™à¹€à¸¡à¸·à¸­à¸‡ à¸­.à¹€à¸¡à¸·à¸­à¸‡ à¸ˆ.à¸‚à¸­à¸™à¹à¸à¹ˆà¸™',
    hours: '06:00 - 18:00 à¸™.',
    phone: '043-222-111',
    mapUrl: 'https://goo.gl/maps/example123',
  }

];


mockPlaces.forEach((place) => {
  db.get(`SELECT * FROM all_places WHERE name = ?`, [place.name], (err, row) => {
    if (!row) {
      db.run(
        `INSERT INTO all_places (name, lat, lon, category, province, image, openingDays, phone, description, address, hours, mapUrl)
         VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)`,
        [
          place.name,
          place.lat,
          place.lon,
          place.category.trim(),
          place.province.trim(),
          place.image || null,
          place.openingDays || place.hours || null,
          place.phone || null,
          place.description || null,
          place.address || null,
          place.hours || null,
          place.mapUrl || null
        ]
      );
    }
  });
});

//random places
app.get('/places/random', (req, res) => {
  const province = req.query.province;
  const category = req.query.category;

  console.log(`[REQ] ðŸ” province=${province} | category=${category}`);

  if (!province || !category) {
    return res.status(400).json({ error: 'Missing province or category' });
  }


  const query = `
  SELECT * FROM all_places 
WHERE TRIM(LOWER(province)) = TRIM(LOWER(?))
  AND TRIM(LOWER(category)) = TRIM(LOWER(?))
`;

  console.log(query);

  db.all(query, [province, category], (err, rows) => {
    if (err) return res.status(500).json({ error: err.message });
    console.log(`âœ… rows.length = ${rows.length}`); // <--- à¹€à¸žà¸´à¹ˆà¸¡à¸•à¸£à¸‡à¸™à¸µà¹‰


    if (rows.length === 0)
      return res.status(404).json({ error: 'à¹„à¸¡à¹ˆà¸žà¸šà¸ªà¸–à¸²à¸™à¸—à¸µà¹ˆ' });

    const shuffled = rows.sort(() => 0.5 - Math.random());
    const selected = shuffled.slice(0, Math.min(rows.length, 5)); // à¹„à¸”à¹‰à¸•à¸±à¹‰à¸‡à¹à¸•à¹ˆ 1â€“5
    res.json(selected);

    console.log(`[BACKEND] QUERY: province=${province}, category=${category}`);

  });
});


// --- API à¸”à¸¶à¸‡à¸ªà¸–à¸²à¸™à¸—à¸µà¹ˆà¸ˆà¸²à¸à¸ˆà¸±à¸‡à¸«à¸§à¸±à¸” ---
app.get('/places', (req, res) => {
  const province = req.query.province?.trim();
  const category = req.query.category?.trim();
  db.all(
    `SELECT * FROM all_places WHERE province = ?`,
    [province],
    (err, rows) => {
      if (err) return res.status(500).json({ error: err.message });
      res.json(rows);
    }
  );
  console.log(`ðŸ‘‰ GET /places/random: province='${province}', category='${category}'`);

});

// --- à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸žà¸´à¸à¸±à¸”à¸ˆà¸±à¸‡à¸«à¸§à¸±à¸”à¸ à¸²à¸„à¸­à¸µà¸ªà¸²à¸™ ---
const coords = {
  'à¸à¸²à¸¬à¸ªà¸´à¸™à¸˜à¸¸à¹Œ': { lat: 16.4313, lon: 103.5060 },
  'à¸‚à¸­à¸™à¹à¸à¹ˆà¸™': { lat: 16.4322, lon: 102.8236 },
  'à¸Šà¸±à¸¢à¸ à¸¹à¸¡à¸´': { lat: 15.8067, lon: 102.0315 },
  'à¸™à¸„à¸£à¸žà¸™à¸¡': { lat: 17.4108, lon: 104.7784 },
  'à¸™à¸„à¸£à¸£à¸²à¸Šà¸ªà¸µà¸¡à¸²': { lat: 14.9799, lon: 102.0977 },
  'à¸šà¸¶à¸‡à¸à¸²à¸¬': { lat: 18.3609, lon: 103.6465 },
  'à¸šà¸¸à¸£à¸µà¸£à¸±à¸¡à¸¢à¹Œ': { lat: 14.9946, lon: 103.1036 },
  'à¸¡à¸«à¸²à¸ªà¸²à¸£à¸„à¸²à¸¡': { lat: 16.1970, lon: 103.2830 },
  'à¸¡à¸¸à¸à¸”à¸²à¸«à¸²à¸£': { lat: 16.5453, lon: 104.7230 },
  'à¸¢à¹‚à¸ªà¸˜à¸£': { lat: 15.7940, lon: 104.1453 },
  'à¸£à¹‰à¸­à¸¢à¹€à¸­à¹‡à¸”': { lat: 16.0567, lon: 103.6531 },
  'à¹€à¸¥à¸¢': { lat: 17.4860, lon: 101.7220 },
  'à¸ªà¸à¸¥à¸™à¸„à¸£': { lat: 17.1620, lon: 104.1476 },
  'à¸ªà¸¸à¸£à¸´à¸™à¸—à¸£à¹Œ': { lat: 14.8818, lon: 103.4936 },
  'à¸¨à¸£à¸µà¸ªà¸°à¹€à¸à¸©': { lat: 15.1148, lon: 104.3294 },
  'à¸«à¸™à¸­à¸‡à¸„à¸²à¸¢': { lat: 17.8783, lon: 102.7420 },
  'à¸«à¸™à¸­à¸‡à¸šà¸±à¸§à¸¥à¸³à¸ à¸¹': { lat: 17.2220, lon: 102.4260 },
  'à¸­à¸³à¸™à¸²à¸ˆà¹€à¸ˆà¸£à¸´à¸': { lat: 15.8642, lon: 104.6258 },
  'à¸­à¸¸à¸”à¸£à¸˜à¸²à¸™à¸µ': { lat: 17.4138, lon: 102.7872 },
  'à¸­à¸¸à¸šà¸¥à¸£à¸²à¸Šà¸˜à¸²à¸™à¸µ': { lat: 15.2448, lon: 104.8473 }
};
// API à¸”à¸¶à¸‡à¸ªà¸–à¸²à¸™à¸—à¸µà¹ˆà¸ˆà¸²à¸ place_id
app.get('/places/:id', (req, res) => {
  const id = req.params.id;
  db.get(`SELECT * FROM all_places WHERE id = ?`, [id], (err, row) => {
    if (err) return res.status(500).json({ error: err.message });
    if (!row) return res.status(404).json({ error: 'à¹„à¸¡à¹ˆà¸žà¸šà¸ªà¸–à¸²à¸™à¸—à¸µà¹ˆ' });
    res.json(row);
  });
});

// --- API à¸”à¸¶à¸‡à¸Šà¸·à¹ˆà¸­à¸ˆà¸±à¸‡à¸«à¸§à¸±à¸”à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸” (à¹€à¸‰à¸žà¸²à¸°à¸Šà¸·à¹ˆà¸­) ---
app.get('/provinces', (req, res) => {
  res.json(Object.keys(coords));
});

// --- API à¸”à¸¶à¸‡à¸žà¸´à¸à¸±à¸”à¸ˆà¸±à¸‡à¸«à¸§à¸±à¸” ---
app.get('/province/location', (req, res) => {
  const provinceName = req.query.name;
  if (coords[provinceName]) {
    res.json({ name: provinceName, ...coords[provinceName] });
  } else {
    res.status(404).json({ error: 'à¹„à¸¡à¹ˆà¸žà¸šà¸ˆà¸±à¸‡à¸«à¸§à¸±à¸”à¸—à¸µà¹ˆà¸£à¸°à¸šà¸¸' });
  }
});

// --- API à¹à¸œà¸™à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸” ---
app.get('/plans', (req, res) => {
  db.all('SELECT * FROM plans ORDER BY id DESC', [], (err, rows) => {
    if (err) return res.status(500).json({ error: err.message });
    res.json(rows);
  });
});

// --- API à¸ªà¸£à¹‰à¸²à¸‡à¹à¸œà¸™à¹ƒà¸«à¸¡à¹ˆ --- 
app.post('/plans', (req, res) => {
  const {
    name, province, start_date, end_date, budget, spending,
    dayColors, favoritePlaces, placesByDay, otherExpenses
  } = req.body;

  db.run(
    `INSERT INTO plans (name, province, start_date, end_date, budget, spending, dayColors)
     VALUES (?, ?, ?, ?, ?, ?, ?)`,
    [name, province, start_date, end_date, budget, spending, JSON.stringify(dayColors || {})],
    function (err) {
      if (err) {
        if (err.message.includes("UNIQUE constraint failed")) {
          return res.status(400).json({ error: 'à¸¡à¸µà¸Šà¸·à¹ˆà¸­à¹à¸œà¸™à¸™à¸µà¹‰à¸­à¸¢à¸¹à¹ˆà¹à¸¥à¹‰à¸§ à¸à¸£à¸¸à¸“à¸²à¹ƒà¸Šà¹‰à¸Šà¸·à¹ˆà¸­à¸­à¸·à¹ˆà¸™' });
        }
        return res.status(500).json({ error: err.message });
      }

      const planId = this.lastID;

      // --- à¹€à¸žà¸´à¹ˆà¸¡ favoritePlaces ---
      if (Array.isArray(favoritePlaces)) {
        const favStmt = db.prepare(
          `INSERT INTO favorite_places (plan_id, name, lat, lon, category) VALUES (?, ?, ?, ?, ?)`
        );
        favoritePlaces.forEach((fav) => {
          favStmt.run(planId, fav.name, fav.lat, fav.lon, fav.category);
        });
        favStmt.finalize();
      }

      // --- à¹€à¸žà¸´à¹ˆà¸¡ placesByDay ---
      if (placesByDay && typeof placesByDay === 'object') {
        const placeStmt = db.prepare(
          `INSERT INTO places (plan_id, day_index, place_id, expense, order_index, category)
           VALUES (?, ?, ?, ?, ?, ?)`
        );
        Object.entries(placesByDay).forEach(([day, places]) => {
          places.forEach((place) => {
            placeStmt.run(planId, day, place.place_id, place.expense || 0, place.order_index || 0, place.category);
          });
        });
        placeStmt.finalize();
      }

      // --- âœ… à¹€à¸žà¸´à¹ˆà¸¡ otherExpenses ---
      if (Array.isArray(otherExpenses)) {
        const expStmt = db.prepare(
          `INSERT INTO other_expenses (plan_id, desc, amount, icon_code)
           VALUES (?, ?, ?, ?)`
        );
        otherExpenses.forEach((exp) => {
          expStmt.run(planId, exp.desc, exp.amount, exp.icon_code || null);
        });
        expStmt.finalize();
      }

      // âœ… à¸ªà¹ˆà¸‡ id à¸à¸¥à¸±à¸š
      res.status(201).json({ id: planId });
    }
  );
});



// --- âœ… API à¸”à¸¶à¸‡à¹à¸œà¸™à¸•à¸²à¸¡ id (à¸žà¸£à¹‰à¸­à¸¡ places, favorites, expenses) ---
// à¹ƒà¸Šà¹‰ JOIN à¸à¸±à¸š all_places à¹€à¸žà¸·à¹ˆà¸­à¸”à¸¶à¸‡à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸£à¸²à¸¢à¸¥à¸°à¹€à¸­à¸µà¸¢à¸”à¹€à¸•à¹‡à¸¡à¸‚à¸­à¸‡à¸ªà¸–à¸²à¸™à¸—à¸µà¹ˆ
app.get('/plans/:id', (req, res) => {
  const planId = req.params.id;

  db.get('SELECT * FROM plans WHERE id = ?', [planId], (err, plan) => {
    if (err) return res.status(500).json({ error: err.message });
    if (!plan) return res.status(404).json({ error: 'à¹„à¸¡à¹ˆà¸žà¸šà¹à¸œà¸™à¸—à¸µà¹ˆà¸•à¹‰à¸­à¸‡à¸à¸²à¸£' });

    const placesQuery = `
      SELECT 
        p.day_index, 
        p.expense, 
        p.order_index,
        p.category,
        ap.id AS place_id,
        ap.name AS place_name,
        ap.lat,
        ap.lon,
        ap.image,
        ap.openingDays,
        ap.phone
      FROM places p 
      LEFT JOIN all_places ap ON p.place_id = ap.id 
      WHERE p.plan_id = ?
      ORDER BY p.day_index, p.order_index
    `;

    db.all(placesQuery, [planId], (err, places) => {
      if (err) return res.status(500).json({ error: err.message });

      const groupedPlaces = {};
      for (const place of places) {
        // à¸«à¸²à¸ record (place) à¹€à¸›à¹‡à¸™ null à¸«à¸£à¸·à¸­à¹„à¸¡à¹ˆà¸¡à¸µà¸„à¹ˆà¸² day_index à¹ƒà¸«à¹‰à¸‚à¹‰à¸²à¸¡ record à¸™à¸±à¹‰à¸™
        if (!place || place.day_index == null) {
          continue;
        }
        if (!groupedPlaces[place.day_index]) {
          groupedPlaces[place.day_index] = [];
        }
        groupedPlaces[place.day_index].push(place);
      }

      db.all('SELECT * FROM favorite_places WHERE plan_id = ?', [planId], (err, favorites) => {
        if (err) return res.status(500).json({ error: err.message });

        db.all('SELECT * FROM other_expenses WHERE plan_id = ?', [planId], (err, expenses) => {
          if (err) return res.status(500).json({ error: err.message });

          res.json({
            id: plan.id,
            name: plan.name,
            province: plan.province,
            start_date: plan.start_date,
            end_date: plan.end_date,
            budget: plan.budget,
            spending: plan.spending,
            dayColors: plan.dayColors ? JSON.parse(plan.dayColors) : {},
            favoritePlaces: favorites,
            placesByDay: groupedPlaces,
            otherExpenses: expenses,
          });
        });
      });
    });
  });
});

// --- âœ… API PUT à¸­à¸±à¸›à¹€à¸”à¸•à¹à¸œà¸™à¹€à¸—à¸µà¹ˆà¸¢à¸§ ---
app.put('/plans/:id', (req, res) => {
  const planId = req.params.id;
  const {
    name, province, start_date, end_date, budget, spending,
    dayColors, favoritePlaces, placesByDay, otherExpenses
  } = req.body;

  db.run(
    `UPDATE plans  SET name=?, province=?, start_date=?, end_date=?, budget=?, spending=? WHERE id=?`,
    [name, province, start_date, end_date, budget, spending, planId],
    function (err) {
      if (err) {
        console.error(err);
        return res.status(500).json({ error: 'Failed to update plan' });
      }

      // âœ… à¸¥à¸šà¸‚à¸­à¸‡à¹€à¸à¹ˆà¸²à¸­à¸­à¸à¸à¹ˆà¸­à¸™ (à¸à¸±à¸™à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸‹à¹‰à¸³)
      db.run(`DELETE FROM favorite_places WHERE plan_id = ?`, [planId]);
      db.run(`DELETE FROM places  WHERE plan_id = ?`, [planId]);
      db.run(`DELETE FROM other_expenses WHERE plan_id = ?`, [planId]);

      // âœ… favoritePlaces
      if (Array.isArray(favoritePlaces)) {
        favoritePlaces.forEach(place => {
          db.run(
            `INSERT INTO favorite_places (plan_id, name, lat, lon, category)
             VALUES (?, ?, ?, ?, ?)`,
            [planId, place.name, place.lat, place.lon, place.category]
          );
        });

      }

      // âœ… placesByDay
      if (placesByDay && typeof placesByDay === 'object') {
        Object.entries(placesByDay).forEach(([dayIndex, places]) => {
          places.forEach(place => {
            db.run(
              `INSERT INTO places  (plan_id, day_index, place_id, expense, order_index)
               VALUES (?, ?, ?, ?, ?)`,
              [planId, dayIndex, place.place_id, place.expense || 0, place.order_index || 0]
            );
          });
        });
      }

      // âœ… otherExpenses
      if (Array.isArray(otherExpenses)) {
        otherExpenses.forEach(exp => {
          db.run(
            `INSERT INTO other_expenses (plan_id, desc, amount, icon_code)
             VALUES (?, ?, ?, ?)`,
            [planId, exp.desc, exp.amount, exp.icon_code || null]
          );
        });
      }

      // âœ… optional: save dayColors as JSON
      db.run(
        `UPDATE plans SET dayColors = ? WHERE id = ?`,
        [JSON.stringify(dayColors || {}), planId]
      );


      res.json({ success: true });
    }
  );
});


// --- âœ… API POST à¹€à¸žà¸´à¹ˆà¸¡à¸ªà¸–à¸²à¸™à¸—à¸µà¹ˆà¹ƒà¸™à¹à¸œà¸™ ---
// à¸£à¸±à¸šà¸‚à¹‰à¸­à¸¡à¸¹à¸¥ minimal: plan_id, day_index, place_id, expense, order_index à¹à¸¥à¸° category
app.post('/places', (req, res) => {
  const { plan_id, day_index, place_id, expense, order_index, category } = req.body;
  db.run(
    `INSERT INTO places (plan_id, day_index, place_id, expense, order_index, category)
     VALUES (?, ?, ?, ?, ?, ?)`,
    [plan_id, day_index, place_id, expense, order_index, category],
    function (err) {
      if (err) return res.status(500).json({ error: err.message });
      res.json({ id: this.lastID });
    }
  );
});

// --- âœ… API POST à¹€à¸žà¸´à¹ˆà¸¡à¸ªà¸–à¸²à¸™à¸—à¸µà¹ˆà¹‚à¸›à¸£à¸” ---
app.post('/favorites', (req, res) => {
  const { plan_id, name, lat, lon, category } = req.body;
  db.run(
    `INSERT INTO favorite_places (plan_id, name, lat, lon, category)
     VALUES (?, ?, ?, ?, ?)`,
    [plan_id, name, lat, lon, category],
    function (err) {
      if (err) return res.status(500).json({ error: err.message });
      res.json({ id: this.lastID });
    }
  );
});

// --- âœ… API POST à¹€à¸žà¸´à¹ˆà¸¡à¸„à¹ˆà¸²à¹ƒà¸Šà¹‰à¸ˆà¹ˆà¸²à¸¢à¸­à¸·à¹ˆà¸™ à¹† ---
app.post('/expenses', (req, res) => {
  const { plan_id, desc, amount, icon_code } = req.body;
  db.run(
    `INSERT INTO other_expenses (plan_id, desc, amount, icon_code)
     VALUES (?, ?, ?, ?)`,
    [plan_id, desc, amount, icon_code],
    function (err) {
      if (err) return res.status(500).json({ error: err.message });
      res.json({ id: this.lastID });
    }
  );
});

// --- âœ… API DELETE à¸ªà¸–à¸²à¸™à¸—à¸µà¹ˆà¹ƒà¸™à¹à¸œà¸™ (optional à¹ƒà¸Šà¹‰à¸à¸±à¸šà¸›à¸¸à¹ˆà¸¡à¸¥à¸š) ---
app.delete('/places/:id', (req, res) => {
  const placeId = req.params.id;
  db.run('DELETE FROM places WHERE id = ?', [placeId], function (err) {
    if (err) return res.status(500).json({ error: err.message });
    res.status(200).json({ message: 'à¸¥à¸šà¸ªà¸–à¸²à¸™à¸—à¸µà¹ˆà¸ªà¸³à¹€à¸£à¹‡à¸ˆ' });
  });
});

// --- âœ… API PUT à¸­à¸±à¸›à¹€à¸”à¸•à¸‡à¸šà¸›à¸£à¸°à¸¡à¸²à¸“à¹à¸¥à¸°à¸£à¸²à¸¢à¸à¸²à¸£à¹ƒà¸Šà¹‰à¸ˆà¹ˆà¸²à¸¢à¹€à¸žà¸´à¹ˆà¸¡à¹€à¸•à¸´à¸¡ ---
app.put('/plans/:id', (req, res) => {
  const planId = req.params.id;
  const { name, budget, spending, dayColors, favoritePlaces, placesByDay, otherExpenses } = req.body;

  if (!name || name.trim() === '') {
    return res.status(400).json({ error: 'à¸à¸£à¸¸à¸“à¸²à¸£à¸°à¸šà¸¸à¸Šà¸·à¹ˆà¸­à¹à¸œà¸™' });
  }

  db.serialize(() => {
    db.run("BEGIN TRANSACTION");

    // 1. à¸­à¸±à¸›à¹€à¸”à¸•à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸«à¸¥à¸±à¸à¹ƒà¸™à¸•à¸²à¸£à¸²à¸‡ plans
    db.run(
      `UPDATE plans SET name = ?, budget = ?, spending = ?, dayColors = ? WHERE id = ?`,
      [name, budget, spending, JSON.stringify(dayColors), planId],
      function (err) {
        if (err) {
          db.run("ROLLBACK");
          return res.status(500).json({ error: 'à¹„à¸¡à¹ˆà¸ªà¸²à¸¡à¸²à¸£à¸–à¸­à¸±à¸›à¹€à¸”à¸•à¹à¸œà¸™à¹„à¸”à¹‰: ' + err.message });
        }

        // 2. à¸­à¸±à¸›à¹€à¸”à¸• favorite_places
        db.run(`DELETE FROM favorite_places WHERE plan_id = ?`, [planId], (err) => {
          if (err) {
            db.run("ROLLBACK");
            return res.status(500).json({ error: 'à¹„à¸¡à¹ˆà¸ªà¸²à¸¡à¸²à¸£à¸–à¸¥à¸š favorite_places: ' + err.message });
          }

          if (favoritePlaces && Array.isArray(favoritePlaces) && favoritePlaces.length > 0) {
            const favStmt = db.prepare(
              `INSERT INTO favorite_places (plan_id, name, lat, lon, category) VALUES (?, ?, ?, ?, ?)`
            );
            favoritePlaces.forEach(fav => {
              favStmt.run(planId, fav.name, fav.lat, fav.lon, fav.category);
            });
            favStmt.finalize((err) => {
              if (err) {
                db.run("ROLLBACK");
                return res.status(500).json({ error: 'à¹„à¸¡à¹ˆà¸ªà¸²à¸¡à¸²à¸£à¸–à¹€à¸žà¸´à¹ˆà¸¡ favorite_places: ' + err.message });
              }
            });
          }

          // 3. à¸­à¸±à¸›à¹€à¸”à¸• places (à¸ªà¸³à¸«à¸£à¸±à¸š placesByDay)
          db.run(`DELETE FROM places WHERE plan_id = ?`, [planId], (err) => {
            if (err) {
              db.run("ROLLBACK");
              return res.status(500).json({ error: 'à¹„à¸¡à¹ˆà¸ªà¸²à¸¡à¸²à¸£à¸–à¸¥à¸š places: ' + err.message });
            }

            if (placesByDay && typeof placesByDay === 'object') {
              for (let dayKey in placesByDay) {
                const dayRecords = placesByDay[dayKey];
                if (Array.isArray(dayRecords) && dayRecords.length > 0) {
                  const placeStmt = db.prepare(
                    `INSERT INTO places (plan_id, day_index, place_id, expense, order_index, category)
                     VALUES (?, ?, ?, ?, ?, ?)`
                  );
                  dayRecords.forEach(record => {
                    placeStmt.run(planId, dayKey, record.place_id, record.expense, record.order_index, record.category);
                  });
                  placeStmt.finalize((err) => {
                    if (err) {
                      db.run("ROLLBACK");
                      return res.status(500).json({ error: 'à¹„à¸¡à¹ˆà¸ªà¸²à¸¡à¸²à¸£à¸–à¹€à¸žà¸´à¹ˆà¸¡ places: ' + err.message });
                    }
                  });
                }
              }
            }

            // 4. à¸­à¸±à¸›à¹€à¸”à¸• other_expenses
            db.run(`DELETE FROM other_expenses WHERE plan_id = ?`, [planId], (err) => {
              if (err) {
                db.run("ROLLBACK");
                return res.status(500).json({ error: 'à¹„à¸¡à¹ˆà¸ªà¸²à¸¡à¸²à¸£à¸–à¸¥à¸š other_expenses: ' + err.message });
              }

              if (otherExpenses && Array.isArray(otherExpenses) && otherExpenses.length > 0) {
                const expStmt = db.prepare(
                  `INSERT INTO other_expenses (plan_id, desc, amount, icon_code) VALUES (?, ?, ?, ?)`
                );
                otherExpenses.forEach(exp => {
                  expStmt.run(planId, exp.desc, exp.amount, exp.icon_code);
                });
                expStmt.finalize((err) => {
                  if (err) {
                    db.run("ROLLBACK");
                    return res.status(500).json({ error: 'à¹„à¸¡à¹ˆà¸ªà¸²à¸¡à¸²à¸£à¸–à¹€à¸žà¸´à¹ˆà¸¡ other_expenses: ' + err.message });
                  }
                });
              }

              // Commit transaction à¹€à¸¡à¸·à¹ˆà¸­à¸—à¸¸à¸à¸‚à¸±à¹‰à¸™à¸•à¸­à¸™à¸ªà¸³à¹€à¸£à¹‡à¸ˆ
              db.run("COMMIT", (err) => {
                if (err) {
                  return res.status(500).json({ error: 'Commit transaction failed: ' + err.message });
                }
                res.status(200).json({ message: 'à¸­à¸±à¸›à¹€à¸”à¸•à¹à¸œà¸™à¸ªà¸³à¹€à¸£à¹‡à¸ˆ' });
              });
            });
          });
        });
      }
    );
  });
});

app.delete('/plans/:id', (req, res) => {
  const planId = req.params.id;

  db.serialize(() => {
    db.run(`DELETE FROM favorite_places WHERE plan_id = ?`, [planId]);
    db.run(`DELETE FROM places WHERE plan_id = ?`, [planId]);
    db.run(`DELETE FROM other_expenses WHERE plan_id = ?`, [planId]);
    db.run(`DELETE FROM plans WHERE id = ?`, [planId], function (err) {
      if (err) return res.status(500).json({ error: err.message });
      res.json({ success: true });
    });
  });
});

app.get('/debug/history-khonkaen', (req, res) => {
  db.all(
    `SELECT id, name, category, province FROM all_places WHERE province = 'à¸‚à¸­à¸™à¹à¸à¹ˆà¸™' AND category = 'history'`,
    [],
    (err, rows) => {
      if (err) return res.status(500).json({ error: err.message });
      res.json(rows);
    }
  );
});

app.get('/debug/cafe-khonkaen', (req, res) => {
  db.all(
    `SELECT id, name, category, province FROM all_places WHERE province = 'à¸‚à¸­à¸™à¹à¸à¹ˆà¸™' AND category = 'cafe'`,
    [],
    (err, rows) => {
      if (err) return res.status(500).json({ error: err.message });
      res.json(rows);
    }
  );
});


// --- à¹€à¸£à¸´à¹ˆà¸¡à¹€à¸‹à¸´à¸£à¹Œà¸Ÿà¹€à¸§à¸­à¸£à¹Œ ---
app.listen(port, () => {
  console.log(`Server running at http://10.0.2.2:${port}`);

});
